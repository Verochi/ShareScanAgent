package moji.com.mjweatherservicebase.list;

@kotlin.Metadata(d1 = {"\u0000p\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\u000e\n\u0000\n\u0002\u0010\u000b\n\u0002\b\u0004\n\u0002\u0010\b\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0007\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\t\n\u0002\b\u0012\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0010\u0006\n\u0002\b\b\b&\u0018\u00002\u00020\u00012\b\u0012\u0004\u0012\u00020\u00030\u0002B\u0007¢\u0006\u0004\bC\u0010DJ\u0012\u0010\u0006\u001a\u00020\u00052\b\u0010\u0004\u001a\u0004\u0018\u00010\u0003H\u0016J\u0010\u0010\t\u001a\n\u0012\u0006\b\u0001\u0012\u00020\b0\u0007H&J\u0010\u0010\f\u001a\u00020\u000b2\u0006\u0010\n\u001a\u00020\u0000H&J\u0012\u0010\u000f\u001a\u00020\u00052\b\u0010\u000e\u001a\u0004\u0018\u00010\rH\u0014J\u001a\u0010\u0014\u001a\u00020\u00102\b\u0010\u0011\u001a\u0004\u0018\u00010\u00102\u0006\u0010\u0013\u001a\u00020\u0012H&J\u000e\u0010\u0016\u001a\u00020\u00052\u0006\u0010\u0015\u001a\u00020\u0012J\"\u0010\u001c\u001a\u00020\u00052\u0006\u0010\u0018\u001a\u00020\u00172\u0006\u0010\u0019\u001a\u00020\u00172\b\u0010\u001b\u001a\u0004\u0018\u00010\u001aH\u0014J\b\u0010\u001d\u001a\u00020\u0005H\u0014J\b\u0010\u001e\u001a\u00020\u0005H\u0002R\u0016\u0010!\u001a\u00020\u00128\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b\u001f\u0010 R\u0016\u0010$\u001a\u00020\"8\u0002@\u0002X\u0082.¢\u0006\u0006\n\u0004\b\u0004\u0010#R\u0016\u0010(\u001a\u00020%8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b&\u0010'R\u0018\u0010+\u001a\u0004\u0018\u00010\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b)\u0010*R\u0016\u0010\u0013\u001a\u00020\u00128\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b,\u0010 R\u001b\u00101\u001a\u00020\b8BX\u0082\u0084\u0002¢\u0006\f\n\u0004\b-\u0010.\u001a\u0004\b/\u00100R\u0016\u00103\u001a\u00020\u00128\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b2\u0010 R\u001b\u00107\u001a\u00020\u000b8BX\u0082\u0084\u0002¢\u0006\f\n\u0004\b4\u0010.\u001a\u0004\b5\u00106R\u001b\u0010<\u001a\u0002088BX\u0082\u0084\u0002¢\u0006\f\n\u0004\b9\u0010.\u001a\u0004\b:\u0010;R\u0016\u0010@\u001a\u00020=8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b>\u0010?R\u0016\u0010B\u001a\u00020=8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bA\u0010?¨\u0006E"}, d2 = {"Lmoji/com/mjweatherservicebase/list/BaseFlowersSpotListActivity;", "Lmoji/com/mjweatherservicebase/WeatherServiceBaseActivity;", "Landroidx/lifecycle/Observer;", "Lmoji/com/mjweatherservicebase/list/RFlowersSpot;", "t", "", "onChanged", "Ljava/lang/Class;", "Lmoji/com/mjweatherservicebase/list/BaseFlowersSpotListViewModel;", "getSpotListViewModelClass", "mContext", "Lmoji/com/mjweatherservicebase/list/BaseFlowersSpotListAdapter;", "getSpotListAdapter", "Landroid/os/Bundle;", "savedInstanceState", "onCreate", "", "areaName", "", "mIsNearby", "getFlowersTitle", com.umeng.analytics.pro.bo.aA, "requestMore", "", "requestCode", "resultCode", "Landroid/content/Intent;", "data", "onActivityResult", "onResume", com.anythink.expressad.d.a.b.dH, com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.AD_COUNT, "Z", "isFirst", "Lmoji/com/mjweatherservicebase/databinding/ActivityRflowersSpotBinding;", "Lmoji/com/mjweatherservicebase/databinding/ActivityRflowersSpotBinding;", "binding", "", com.umeng.analytics.pro.bo.aN, "J", "mAreaId", "v", "Ljava/lang/String;", "mAreaName", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.WIDTH, "x", "Lkotlin/Lazy;", "k", "()Lmoji/com/mjweatherservicebase/list/BaseFlowersSpotListViewModel;", "mViewModel", "y", "mIsVip", com.umeng.analytics.pro.bo.aJ, "i", "()Lmoji/com/mjweatherservicebase/list/BaseFlowersSpotListAdapter;", "mAdapter", "Lcom/moji/preferences/ProcessPrefer;", androidx.exifinterface.media.ExifInterface.GPS_MEASUREMENT_IN_PROGRESS, "j", "()Lcom/moji/preferences/ProcessPrefer;", "mPrefer", "", "B", "D", "mLat", "C", "mLon", "<init>", "()V", "MJWeatherServiceBase_release"}, k = 1, mv = {1, 6, 0})
/* loaded from: classes20.dex */
public abstract class BaseFlowersSpotListActivity extends moji.com.mjweatherservicebase.WeatherServiceBaseActivity implements androidx.lifecycle.Observer<moji.com.mjweatherservicebase.list.RFlowersSpot> {

    /* renamed from: A, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final kotlin.Lazy mPrefer;

    /* renamed from: B, reason: from kotlin metadata */
    public double mLat;

    /* renamed from: C, reason: from kotlin metadata */
    public double mLon;

    /* renamed from: t, reason: from kotlin metadata */
    public moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding binding;

    /* renamed from: x, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final kotlin.Lazy mViewModel;

    /* renamed from: y, reason: from kotlin metadata */
    public boolean mIsVip;

    /* renamed from: z, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final kotlin.Lazy mAdapter;

    /* renamed from: n, reason: from kotlin metadata */
    public boolean isFirst = true;

    /* renamed from: u, reason: from kotlin metadata */
    public long mAreaId = -1;

    /* renamed from: v, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public java.lang.String mAreaName = "";

    /* renamed from: w, reason: from kotlin metadata */
    public boolean mIsNearby = true;

    public BaseFlowersSpotListActivity() {
        kotlin.Lazy lazy;
        kotlin.Lazy lazy2;
        kotlin.Lazy lazy3;
        lazy = kotlin.LazyKt__LazyJVMKt.lazy(new moji.com.mjweatherservicebase.list.BaseFlowersSpotListActivity$mViewModel$2(this));
        this.mViewModel = lazy;
        lazy2 = kotlin.LazyKt__LazyJVMKt.lazy(new moji.com.mjweatherservicebase.list.BaseFlowersSpotListActivity$mAdapter$2(this));
        this.mAdapter = lazy2;
        lazy3 = kotlin.LazyKt__LazyJVMKt.lazy(moji.com.mjweatherservicebase.list.BaseFlowersSpotListActivity$mPrefer$2.INSTANCE);
        this.mPrefer = lazy3;
        this.mLat = -11111.0d;
        this.mLon = -11111.0d;
    }

    @com.sensorsdata.analytics.android.sdk.SensorsDataInstrumented
    public static final void l(moji.com.mjweatherservicebase.list.BaseFlowersSpotListActivity this$0, android.view.View view) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        this$0.m();
        com.sensorsdata.analytics.android.autotrack.aop.SensorsDataAutoTrackHelper.trackViewOnClick(view);
    }

    @com.sensorsdata.analytics.android.sdk.SensorsDataInstrumented
    public static final void n(moji.com.mjweatherservicebase.list.BaseFlowersSpotListActivity this$0, android.view.View view) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        this$0.m();
        com.sensorsdata.analytics.android.autotrack.aop.SensorsDataAutoTrackHelper.trackViewOnClick(view);
    }

    @org.jetbrains.annotations.NotNull
    public abstract java.lang.String getFlowersTitle(@org.jetbrains.annotations.Nullable java.lang.String areaName, boolean mIsNearby);

    @org.jetbrains.annotations.NotNull
    public abstract moji.com.mjweatherservicebase.list.BaseFlowersSpotListAdapter getSpotListAdapter(@org.jetbrains.annotations.NotNull moji.com.mjweatherservicebase.list.BaseFlowersSpotListActivity mContext);

    @org.jetbrains.annotations.NotNull
    public abstract java.lang.Class<? extends moji.com.mjweatherservicebase.list.BaseFlowersSpotListViewModel> getSpotListViewModelClass();

    public final moji.com.mjweatherservicebase.list.BaseFlowersSpotListAdapter i() {
        return (moji.com.mjweatherservicebase.list.BaseFlowersSpotListAdapter) this.mAdapter.getValue();
    }

    public final com.moji.preferences.ProcessPrefer j() {
        return (com.moji.preferences.ProcessPrefer) this.mPrefer.getValue();
    }

    public final moji.com.mjweatherservicebase.list.BaseFlowersSpotListViewModel k() {
        return (moji.com.mjweatherservicebase.list.BaseFlowersSpotListViewModel) this.mViewModel.getValue();
    }

    public final void m() {
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding = null;
        if (!com.moji.tool.DeviceTool.isConnected()) {
            moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding2 = this.binding;
            if (activityRflowersSpotBinding2 == null) {
                kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            } else {
                activityRflowersSpotBinding = activityRflowersSpotBinding2;
            }
            activityRflowersSpotBinding.mStatusView.showNetworkUnaviable(new defpackage.ah(this));
            return;
        }
        i().reset(this.mIsVip);
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding3 = this.binding;
        if (activityRflowersSpotBinding3 == null) {
            kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
        } else {
            activityRflowersSpotBinding = activityRflowersSpotBinding3;
        }
        activityRflowersSpotBinding.mStatusView.showLoadingView();
        k().request(this.mIsNearby, this.mAreaId, true, true);
    }

    public void onActivityResult(int requestCode, int resultCode, @org.jetbrains.annotations.Nullable android.content.Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == 85) {
            k().setVipState(j().getIsVip());
        }
    }

    @Override // androidx.lifecycle.Observer
    public void onChanged(@org.jetbrains.annotations.Nullable moji.com.mjweatherservicebase.list.RFlowersSpot t) {
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding = null;
        if (t == null || t.getIsFailure()) {
            moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding2 = this.binding;
            if (activityRflowersSpotBinding2 == null) {
                kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            } else {
                activityRflowersSpotBinding = activityRflowersSpotBinding2;
            }
            activityRflowersSpotBinding.mStatusView.showServerErrorView(new defpackage.zg(this));
            return;
        }
        if (t.getIsEmpty()) {
            moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding3 = this.binding;
            if (activityRflowersSpotBinding3 == null) {
                kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            } else {
                activityRflowersSpotBinding = activityRflowersSpotBinding3;
            }
            activityRflowersSpotBinding.mStatusView.showEmptyView();
            return;
        }
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding4 = this.binding;
        if (activityRflowersSpotBinding4 == null) {
            kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
        } else {
            activityRflowersSpotBinding = activityRflowersSpotBinding4;
        }
        activityRflowersSpotBinding.mStatusView.showContentView();
        i().update(t);
        if (!j().getIsVip()) {
            k().eventMemberShow();
        }
        this.isFirst = false;
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void onCreate(@org.jetbrains.annotations.Nullable android.os.Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding inflate = moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding.inflate(getLayoutInflater());
        kotlin.jvm.internal.Intrinsics.checkNotNullExpressionValue(inflate, "inflate(layoutInflater)");
        this.binding = inflate;
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding = null;
        if (inflate == null) {
            kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            inflate = null;
        }
        setContentView(inflate.getRoot());
        if (getIntent() != null) {
            this.mIsNearby = getIntent().getBooleanExtra(moji.com.mjweatherservicebase.card.SpotJumpManager.AREA_NEARBY, true);
            this.mAreaId = getIntent().getLongExtra(moji.com.mjweatherservicebase.card.SpotJumpManager.AREA_ID, -1L);
            this.mAreaName = getIntent().getStringExtra(moji.com.mjweatherservicebase.card.SpotJumpManager.AREA_NAME);
            this.mLat = getIntent().getDoubleExtra(moji.com.mjweatherservicebase.card.SpotJumpManager.AREA_LAT, -11111.0d);
            this.mLon = getIntent().getDoubleExtra(moji.com.mjweatherservicebase.card.SpotJumpManager.AREA_LON, -11111.0d);
        }
        java.lang.String flowersTitle = getFlowersTitle(this.mAreaName, this.mIsNearby);
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding2 = this.binding;
        if (activityRflowersSpotBinding2 == null) {
            kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            activityRflowersSpotBinding2 = null;
        }
        activityRflowersSpotBinding2.mTitle.setTitleText(flowersTitle);
        k().getMLiveData().observe(this, this);
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding3 = this.binding;
        if (activityRflowersSpotBinding3 == null) {
            kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            activityRflowersSpotBinding3 = null;
        }
        activityRflowersSpotBinding3.mRecyclerView.addOnScrollListener(i().getOnScrollListener());
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding4 = this.binding;
        if (activityRflowersSpotBinding4 == null) {
            kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            activityRflowersSpotBinding4 = null;
        }
        activityRflowersSpotBinding4.mRecyclerView.setAdapter(i());
        moji.com.mjweatherservicebase.list.BaseFlowersSpotListAdapter i = i();
        moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding5 = this.binding;
        if (activityRflowersSpotBinding5 == null) {
            kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            activityRflowersSpotBinding5 = null;
        }
        android.widget.TextView textView = activityRflowersSpotBinding5.mLabelView;
        kotlin.jvm.internal.Intrinsics.checkNotNullExpressionValue(textView, "binding.mLabelView");
        i.setLabelView(textView);
        i().setIsNearby(this.mIsNearby);
        if (!this.mIsNearby) {
            moji.com.mjweatherservicebase.databinding.ActivityRflowersSpotBinding activityRflowersSpotBinding6 = this.binding;
            if (activityRflowersSpotBinding6 == null) {
                kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("binding");
            } else {
                activityRflowersSpotBinding = activityRflowersSpotBinding6;
            }
            activityRflowersSpotBinding.mLabelView.setVisibility(8);
        }
        this.mIsVip = j().getIsVip();
        k().setVipState(this.mIsVip);
        k().setCityInfo(this.mLat, this.mLon);
        m();
    }

    public void onResume() {
        super.onResume();
        boolean isVip = j().getIsVip();
        if (this.mIsVip != isVip) {
            this.mIsVip = isVip;
            k().setVipState(this.mIsVip);
            m();
        }
        if (this.isFirst || j().getIsVip()) {
            return;
        }
        k().eventMemberShow();
    }

    public final void requestMore(boolean inner) {
        com.moji.tool.log.MJLogger.d("RFlowersSpotActivity", "requestMore: " + inner);
        k().request(this.mIsNearby, this.mAreaId, inner, false);
    }
}
