package moji.com.mjweatherservicebase;

@kotlin.Metadata(d1 = {"\u0000\u009a\u0001\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\b\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\b\n\u0002\u0018\u0002\n\u0002\b\u0007\n\u0002\u0010\u0006\n\u0002\b\u0014\n\u0002\u0010\u000b\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0010\u0015\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0002\b\n\b&\u0018\u0000 t2\u00020\u0001:\u0001tB\u0007¢\u0006\u0004\br\u0010sJ\n\u0010\u0003\u001a\u0004\u0018\u00010\u0002H\u0002J\b\u0010\u0005\u001a\u00020\u0004H$J\u0012\u0010\t\u001a\u00020\b2\b\u0010\u0007\u001a\u0004\u0018\u00010\u0006H\u0014J\u0006\u0010\n\u001a\u00020\bJ\u0014\u0010\r\u001a\u00020\b2\f\u0010\f\u001a\b\u0012\u0004\u0012\u00020\u00020\u000bJ\u0006\u0010\u000f\u001a\u00020\u000eJ\b\u0010\u0010\u001a\u00020\bH\u0014J\b\u0010\u0012\u001a\u00020\u0011H&J\u0010\u0010\u0014\u001a\u00020\b2\u0006\u0010\u0013\u001a\u00020\u0006H\u0014R\u001b\u0010\u0019\u001a\u00020\u00118BX\u0082\u0084\u0002¢\u0006\f\n\u0004\b\u0015\u0010\u0016\u001a\u0004\b\u0017\u0010\u0018R$\u0010!\u001a\u0004\u0018\u00010\u001a8\u0004@\u0004X\u0084\u000e¢\u0006\u0012\n\u0004\b\u001b\u0010\u001c\u001a\u0004\b\u001d\u0010\u001e\"\u0004\b\u001f\u0010 R\"\u0010)\u001a\u00020\"8\u0004@\u0004X\u0084\u000e¢\u0006\u0012\n\u0004\b#\u0010$\u001a\u0004\b%\u0010&\"\u0004\b'\u0010(R\"\u0010-\u001a\u00020\"8\u0004@\u0004X\u0084\u000e¢\u0006\u0012\n\u0004\b*\u0010$\u001a\u0004\b+\u0010&\"\u0004\b,\u0010(R\"\u00104\u001a\u00020\u000e8\u0004@\u0004X\u0084\u000e¢\u0006\u0012\n\u0004\b.\u0010/\u001a\u0004\b0\u00101\"\u0004\b2\u00103R\u0016\u00106\u001a\u00020\u000e8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b5\u0010/R\"\u0010:\u001a\u0002078\u0004@\u0004X\u0084\u000e¢\u0006\u0012\n\u0004\b8\u00109\u001a\u0004\b:\u0010;\"\u0004\b<\u0010=R\u001b\u0010B\u001a\u00020>8DX\u0084\u0084\u0002¢\u0006\f\n\u0004\b?\u0010\u0016\u001a\u0004\b@\u0010AR\u0014\u0010F\u001a\u00020C8\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\bD\u0010ER\u0018\u0010J\u001a\u0004\u0018\u00010G8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bH\u0010IR\u001b\u0010O\u001a\u00020K8BX\u0082\u0084\u0002¢\u0006\f\n\u0004\bL\u0010\u0016\u001a\u0004\bM\u0010NR\u0018\u0010Q\u001a\u0004\u0018\u00010\u00028\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b$\u0010PR\u0016\u0010U\u001a\u00020R8\u0002@\u0002X\u0082.¢\u0006\u0006\n\u0004\bS\u0010TR\"\u0010W\u001a\u00020V8\u0006@\u0006X\u0086.¢\u0006\u0012\n\u0004\bW\u0010X\u001a\u0004\bY\u0010Z\"\u0004\b[\u0010\\R\"\u0010^\u001a\u00020]8\u0006@\u0006X\u0086.¢\u0006\u0012\n\u0004\b^\u0010_\u001a\u0004\b`\u0010a\"\u0004\bb\u0010cR\"\u0010e\u001a\u00020d8\u0006@\u0006X\u0086.¢\u0006\u0012\n\u0004\be\u0010f\u001a\u0004\bg\u0010h\"\u0004\bi\u0010jR\"\u0010l\u001a\u00020k8\u0006@\u0006X\u0086.¢\u0006\u0012\n\u0004\bl\u0010m\u001a\u0004\bn\u0010o\"\u0004\bp\u0010q¨\u0006u"}, d2 = {"Lmoji/com/mjweatherservicebase/BaseHomePageActivity;", "Lmoji/com/mjweatherservicebase/WeatherServiceBaseActivity;", "Landroid/graphics/Bitmap;", "i", "Lmoji/com/mjweatherservicebase/BaseFlowersMainPresenter;", "getBaseMainPresenter", "Landroid/os/Bundle;", "savedInstanceState", "", "onCreate", "prepareShare", "Ljava/util/ArrayList;", "map", "opFinalShareBit", "", "getBottom", "onDestroy", "Lmoji/com/mjweatherservicebase/card/ModuleFeatureCustom;", "getFeatureCustom", "outState", "onSaveInstanceState", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.AD_COUNT, "Lkotlin/Lazy;", "j", "()Lmoji/com/mjweatherservicebase/card/ModuleFeatureCustom;", "mFeatureCustom", "Lcom/moji/common/area/AreaInfo;", "t", "Lcom/moji/common/area/AreaInfo;", "getMArea", "()Lcom/moji/common/area/AreaInfo;", "setMArea", "(Lcom/moji/common/area/AreaInfo;)V", "mArea", "", com.umeng.analytics.pro.bo.aN, "D", "getMLat", "()D", "setMLat", "(D)V", "mLat", "v", "getMLon", "setMLon", "mLon", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.WIDTH, "I", "getFlowerType", "()I", "setFlowerType", "(I)V", "flowerType", "x", "mCityId", "", "y", "Z", "isForeignCountry", "()Z", "setForeignCountry", "(Z)V", "Lmoji/com/mjweatherservicebase/BaseFlowersInfoAdapter;", com.umeng.analytics.pro.bo.aJ, "getMAdapter", "()Lmoji/com/mjweatherservicebase/BaseFlowersInfoAdapter;", "mAdapter", "", androidx.exifinterface.media.ExifInterface.GPS_MEASUREMENT_IN_PROGRESS, "[I", "loc", "Lio/reactivex/disposables/Disposable;", "B", "Lio/reactivex/disposables/Disposable;", "mSubscribe", "Lcom/moji/share/MJThirdShareManager;", "C", "k", "()Lcom/moji/share/MJThirdShareManager;", "mShareManager", "Landroid/graphics/Bitmap;", "mListBits", "Landroidx/recyclerview/widget/LinearLayoutManager;", androidx.exifinterface.media.ExifInterface.LONGITUDE_EAST, "Landroidx/recyclerview/widget/LinearLayoutManager;", "mLayoutManager", "Lcom/moji/titlebar/MJTitleBar;", "mTitleBar", "Lcom/moji/titlebar/MJTitleBar;", "getMTitleBar", "()Lcom/moji/titlebar/MJTitleBar;", "setMTitleBar", "(Lcom/moji/titlebar/MJTitleBar;)V", "Lcom/moji/multiplestatuslayout/MJMultipleStatusLayout;", "mStateView", "Lcom/moji/multiplestatuslayout/MJMultipleStatusLayout;", "getMStateView", "()Lcom/moji/multiplestatuslayout/MJMultipleStatusLayout;", "setMStateView", "(Lcom/moji/multiplestatuslayout/MJMultipleStatusLayout;)V", "Landroidx/recyclerview/widget/RecyclerView;", "mRecyclerView", "Landroidx/recyclerview/widget/RecyclerView;", "getMRecyclerView", "()Landroidx/recyclerview/widget/RecyclerView;", "setMRecyclerView", "(Landroidx/recyclerview/widget/RecyclerView;)V", "Landroid/view/View;", "mHolder", "Landroid/view/View;", "getMHolder", "()Landroid/view/View;", "setMHolder", "(Landroid/view/View;)V", "<init>", "()V", "Companion", "MJWeatherServiceBase_release"}, k = 1, mv = {1, 6, 0})
/* loaded from: classes20.dex */
public abstract class BaseHomePageActivity extends moji.com.mjweatherservicebase.WeatherServiceBaseActivity {

    /* renamed from: Companion, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public static final moji.com.mjweatherservicebase.BaseHomePageActivity.Companion INSTANCE = new moji.com.mjweatherservicebase.BaseHomePageActivity.Companion(null);

    @org.jetbrains.annotations.Nullable
    public static moji.com.mjweatherservicebase.BaseFlowersMainPresenter F;

    /* renamed from: A, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final int[] loc;

    /* renamed from: B, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public io.reactivex.disposables.Disposable mSubscribe;

    /* renamed from: C, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final kotlin.Lazy mShareManager;

    /* renamed from: D, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public android.graphics.Bitmap mListBits;

    /* renamed from: E, reason: from kotlin metadata */
    public androidx.recyclerview.widget.LinearLayoutManager mLayoutManager;
    public android.view.View mHolder;
    public androidx.recyclerview.widget.RecyclerView mRecyclerView;
    public com.moji.multiplestatuslayout.MJMultipleStatusLayout mStateView;
    public com.moji.titlebar.MJTitleBar mTitleBar;

    /* renamed from: n, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final kotlin.Lazy mFeatureCustom;

    /* renamed from: t, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public com.moji.common.area.AreaInfo mArea;

    /* renamed from: u, reason: from kotlin metadata */
    public double mLat;

    /* renamed from: v, reason: from kotlin metadata */
    public double mLon;

    /* renamed from: w, reason: from kotlin metadata */
    public int flowerType;

    /* renamed from: x, reason: from kotlin metadata */
    public int mCityId;

    /* renamed from: y, reason: from kotlin metadata */
    public boolean isForeignCountry;

    /* renamed from: z, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final kotlin.Lazy mAdapter;

    @kotlin.Metadata(d1 = {"\u0000\u0014\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0005\b\u0086\u0003\u0018\u00002\u00020\u0001B\u0007\b\u0002¢\u0006\u0002\u0010\u0002R\u001c\u0010\u0003\u001a\u0004\u0018\u00010\u0004X\u0086\u000e¢\u0006\u000e\n\u0000\u001a\u0004\b\u0005\u0010\u0006\"\u0004\b\u0007\u0010\b¨\u0006\t"}, d2 = {"Lmoji/com/mjweatherservicebase/BaseHomePageActivity$Companion;", "", "()V", "flowersMainPresenter", "Lmoji/com/mjweatherservicebase/BaseFlowersMainPresenter;", "getFlowersMainPresenter", "()Lmoji/com/mjweatherservicebase/BaseFlowersMainPresenter;", "setFlowersMainPresenter", "(Lmoji/com/mjweatherservicebase/BaseFlowersMainPresenter;)V", "MJWeatherServiceBase_release"}, k = 1, mv = {1, 6, 0}, xi = 48)
    public static final class Companion {
        public Companion() {
        }

        public /* synthetic */ Companion(kotlin.jvm.internal.DefaultConstructorMarker defaultConstructorMarker) {
            this();
        }

        @org.jetbrains.annotations.Nullable
        public final moji.com.mjweatherservicebase.BaseFlowersMainPresenter getFlowersMainPresenter() {
            return moji.com.mjweatherservicebase.BaseHomePageActivity.F;
        }

        public final void setFlowersMainPresenter(@org.jetbrains.annotations.Nullable moji.com.mjweatherservicebase.BaseFlowersMainPresenter baseFlowersMainPresenter) {
            moji.com.mjweatherservicebase.BaseHomePageActivity.F = baseFlowersMainPresenter;
        }
    }

    public BaseHomePageActivity() {
        kotlin.Lazy lazy;
        kotlin.Lazy lazy2;
        kotlin.Lazy lazy3;
        lazy = kotlin.LazyKt__LazyJVMKt.lazy(new moji.com.mjweatherservicebase.BaseHomePageActivity$mFeatureCustom$2(this));
        this.mFeatureCustom = lazy;
        this.mLat = -11111.0d;
        this.mLon = -11111.0d;
        this.flowerType = 12;
        lazy2 = kotlin.LazyKt__LazyJVMKt.lazy(new moji.com.mjweatherservicebase.BaseHomePageActivity$mAdapter$2(this));
        this.mAdapter = lazy2;
        this.loc = new int[]{0, 0};
        lazy3 = kotlin.LazyKt__LazyJVMKt.lazy(new moji.com.mjweatherservicebase.BaseHomePageActivity$mShareManager$2(this));
        this.mShareManager = lazy3;
    }

    private final android.graphics.Bitmap i() {
        androidx.recyclerview.widget.RecyclerView.ViewHolder holderByType;
        android.graphics.Bitmap bitmap = this.mListBits;
        if (bitmap != null) {
            return bitmap;
        }
        java.util.ArrayList arrayList = new java.util.ArrayList();
        int itemCount = getMAdapter().getItemCount();
        int i = 0;
        for (int i2 = 0; i2 < itemCount; i2++) {
            int itemViewType = getMAdapter().getItemViewType(i2);
            if ((itemViewType == 1 || itemViewType == 2 || itemViewType == 3 || itemViewType == 7) && (holderByType = getMAdapter().getHolderByType(itemViewType)) != null) {
                android.graphics.Bitmap createBitmap = android.graphics.Bitmap.createBitmap(holderByType.itemView.getMeasuredWidth(), holderByType.itemView.getMeasuredHeight(), android.graphics.Bitmap.Config.RGB_565);
                kotlin.jvm.internal.Intrinsics.checkNotNullExpressionValue(createBitmap, "createBitmap(holder.item…t, Bitmap.Config.RGB_565)");
                holderByType.itemView.draw(new android.graphics.Canvas(createBitmap));
                arrayList.add(createBitmap);
                i += holderByType.itemView.getMeasuredHeight();
            }
        }
        int measuredWidth = getMRecyclerView().getMeasuredWidth();
        if (i == 0 || measuredWidth == 0) {
            return null;
        }
        android.graphics.Bitmap createBitmap2 = android.graphics.Bitmap.createBitmap(measuredWidth, i, android.graphics.Bitmap.Config.RGB_565);
        kotlin.jvm.internal.Intrinsics.checkNotNull(createBitmap2);
        android.graphics.Canvas canvas = new android.graphics.Canvas(createBitmap2);
        int size = arrayList.size();
        float f = 0.0f;
        for (int i3 = 0; i3 < size; i3++) {
            canvas.drawBitmap((android.graphics.Bitmap) arrayList.get(i3), 0.0f, f, (android.graphics.Paint) null);
            f += r8.getHeight();
        }
        this.mListBits = createBitmap2;
        return createBitmap2;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public final com.moji.share.MJThirdShareManager k() {
        return (com.moji.share.MJThirdShareManager) this.mShareManager.getValue();
    }

    /* JADX WARN: Multi-variable type inference failed */
    public static final void l(moji.com.mjweatherservicebase.BaseHomePageActivity this$0, android.graphics.Bitmap bitmap, java.util.ArrayList map, io.reactivex.ObservableEmitter it) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(map, "$map");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(it, "it");
        try {
            android.graphics.Bitmap i = this$0.i();
            if (i == null) {
                it.onNext(java.lang.Boolean.FALSE);
                return;
            }
            int titleBarHeight = this$0.getMTitleBar().getTitleBarHeight();
            android.graphics.Bitmap createBitmap = android.graphics.Bitmap.createBitmap(bitmap, 0, (bitmap.getHeight() - titleBarHeight) + 1, bitmap.getWidth(), titleBarHeight - 1);
            kotlin.jvm.internal.Intrinsics.checkNotNullExpressionValue(createBitmap, "createBitmap(mTitleBit, …Bit.width, barHeight - 1)");
            android.view.View inflate = android.view.View.inflate(com.moji.tool.AppDelegate.getAppContext(), moji.com.mjweatherservicebase.R.layout.layout_rflowers_share, null);
            android.widget.ImageView imageView = (android.widget.ImageView) inflate.findViewById(moji.com.mjweatherservicebase.R.id.mShareTitle);
            android.widget.ImageView imageView2 = (android.widget.ImageView) inflate.findViewById(moji.com.mjweatherservicebase.R.id.mMapImage);
            android.widget.ImageView imageView3 = (android.widget.ImageView) inflate.findViewById(moji.com.mjweatherservicebase.R.id.mMapBg);
            android.widget.ImageView imageView4 = (android.widget.ImageView) inflate.findViewById(moji.com.mjweatherservicebase.R.id.mListImage);
            imageView.setImageBitmap(createBitmap);
            imageView2.setImageBitmap((android.graphics.Bitmap) map.get(0));
            if (map.size() >= 2) {
                imageView3.setImageBitmap((android.graphics.Bitmap) map.get(1));
            }
            imageView4.setImageBitmap(i);
            inflate.measure(0, 0);
            it.onNext(java.lang.Boolean.valueOf(com.moji.share.ShareImageManager.addQR2Share(this$0, new com.moji.share.image.ShareImageControl(com.moji.share.ShareImageManager.loadBitmapFromView(inflate, inflate.getMeasuredWidth(), inflate.getMeasuredHeight(), false), com.moji.share.BackgroundColorStyle.GRAY, this$0.j().getGraphicSharePath()))));
        } catch (java.lang.Exception e) {
            com.moji.tool.log.MJLogger.i("RFlowersActivity", "opFinalShareBit: " + e.getMessage());
            it.onNext(java.lang.Boolean.FALSE);
        }
    }

    public static final void m(moji.com.mjweatherservicebase.BaseHomePageActivity this$0, java.lang.Boolean bool) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        if (bool.booleanValue()) {
            this$0.k().prepareSuccess(true);
        } else {
            com.moji.tool.ToastTool.showToast(moji.com.mjweatherservicebase.R.string.share_data_failed);
        }
    }

    @org.jetbrains.annotations.NotNull
    public abstract moji.com.mjweatherservicebase.BaseFlowersMainPresenter getBaseMainPresenter();

    public final int getBottom() {
        int i = this.loc[1];
        if (i > 10) {
            return i;
        }
        getMHolder().getLocationOnScreen(this.loc);
        return this.loc[1];
    }

    @org.jetbrains.annotations.NotNull
    public abstract moji.com.mjweatherservicebase.card.ModuleFeatureCustom getFeatureCustom();

    public final int getFlowerType() {
        return this.flowerType;
    }

    @org.jetbrains.annotations.NotNull
    public final moji.com.mjweatherservicebase.BaseFlowersInfoAdapter getMAdapter() {
        return (moji.com.mjweatherservicebase.BaseFlowersInfoAdapter) this.mAdapter.getValue();
    }

    @org.jetbrains.annotations.Nullable
    public final com.moji.common.area.AreaInfo getMArea() {
        return this.mArea;
    }

    @org.jetbrains.annotations.NotNull
    public final android.view.View getMHolder() {
        android.view.View view = this.mHolder;
        if (view != null) {
            return view;
        }
        kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("mHolder");
        return null;
    }

    public final double getMLat() {
        return this.mLat;
    }

    public final double getMLon() {
        return this.mLon;
    }

    @org.jetbrains.annotations.NotNull
    public final androidx.recyclerview.widget.RecyclerView getMRecyclerView() {
        androidx.recyclerview.widget.RecyclerView recyclerView = this.mRecyclerView;
        if (recyclerView != null) {
            return recyclerView;
        }
        kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("mRecyclerView");
        return null;
    }

    @org.jetbrains.annotations.NotNull
    public final com.moji.multiplestatuslayout.MJMultipleStatusLayout getMStateView() {
        com.moji.multiplestatuslayout.MJMultipleStatusLayout mJMultipleStatusLayout = this.mStateView;
        if (mJMultipleStatusLayout != null) {
            return mJMultipleStatusLayout;
        }
        kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("mStateView");
        return null;
    }

    @org.jetbrains.annotations.NotNull
    public final com.moji.titlebar.MJTitleBar getMTitleBar() {
        com.moji.titlebar.MJTitleBar mJTitleBar = this.mTitleBar;
        if (mJTitleBar != null) {
            return mJTitleBar;
        }
        kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("mTitleBar");
        return null;
    }

    /* renamed from: isForeignCountry, reason: from getter */
    public final boolean getIsForeignCountry() {
        return this.isForeignCountry;
    }

    public final moji.com.mjweatherservicebase.card.ModuleFeatureCustom j() {
        return (moji.com.mjweatherservicebase.card.ModuleFeatureCustom) this.mFeatureCustom.getValue();
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void onCreate(@org.jetbrains.annotations.Nullable android.os.Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(moji.com.mjweatherservicebase.R.layout.activity_homepage_base);
        F = getBaseMainPresenter();
        com.moji.titlebar.MJTitleBar findViewById = findViewById(moji.com.mjweatherservicebase.R.id.mFlowersTitleBar);
        kotlin.jvm.internal.Intrinsics.checkNotNullExpressionValue(findViewById, "findViewById(R.id.mFlowersTitleBar)");
        setMTitleBar(findViewById);
        com.moji.multiplestatuslayout.MJMultipleStatusLayout findViewById2 = findViewById(moji.com.mjweatherservicebase.R.id.mFlowersStateView);
        kotlin.jvm.internal.Intrinsics.checkNotNullExpressionValue(findViewById2, "findViewById(R.id.mFlowersStateView)");
        setMStateView(findViewById2);
        android.view.View findViewById3 = findViewById(moji.com.mjweatherservicebase.R.id.mFlowersRecyclerView);
        kotlin.jvm.internal.Intrinsics.checkNotNullExpressionValue(findViewById3, "findViewById(R.id.mFlowersRecyclerView)");
        setMRecyclerView((androidx.recyclerview.widget.RecyclerView) findViewById3);
        android.view.View findViewById4 = findViewById(moji.com.mjweatherservicebase.R.id.mFlowersHolder);
        kotlin.jvm.internal.Intrinsics.checkNotNullExpressionValue(findViewById4, "findViewById(R.id.mFlowersHolder)");
        setMHolder(findViewById4);
        com.moji.common.area.AreaInfo locationArea = com.moji.areamanagement.MJAreaManager.getLocationArea();
        this.mArea = locationArea;
        if (locationArea == null) {
            this.mArea = com.moji.areamanagement.MJAreaManager.getCurrentArea();
        }
        com.moji.common.area.AreaInfo areaInfo = this.mArea;
        if (areaInfo == null) {
            getMStateView().showEmptyView();
            return;
        }
        kotlin.jvm.internal.Intrinsics.checkNotNull(areaInfo);
        this.mCityId = areaInfo.cityId;
        com.moji.weatherprovider.data.Weather weather = com.moji.weatherprovider.provider.WeatherProvider.getInstance().getWeather(this.mArea);
        androidx.recyclerview.widget.LinearLayoutManager linearLayoutManager = null;
        this.isForeignCountry = ((weather != null ? weather.mDetail : null) == null || weather.mDetail.country == 0) ? false : true;
        com.moji.common.area.AreaInfo areaInfo2 = this.mArea;
        kotlin.jvm.internal.Intrinsics.checkNotNull(areaInfo2);
        if (areaInfo2.isLocation) {
            com.moji.location.entity.MJLocation historyLocation = com.moji.location.provider.HistoryLocationHelper.getHistoryLocation(com.moji.tool.AppDelegate.getAppContext(), com.moji.location.MJLocationSource.AMAP_LOCATION);
            if (historyLocation != null && com.moji.location.util.LocationUtil.isAmapSuccess(historyLocation)) {
                this.mLat = historyLocation.getLatitude();
                this.mLon = historyLocation.getLongitude();
            }
        } else {
            if ((weather != null ? weather.mDetail : null) != null) {
                com.moji.weatherprovider.data.Detail detail = weather.mDetail;
                if (com.moji.location.util.LocationUtil.isLatLanValid(detail.lat, detail.lon)) {
                    this.mLat = detail.lat;
                    this.mLon = detail.lon;
                }
            }
        }
        this.mLayoutManager = new androidx.recyclerview.widget.LinearLayoutManager(com.moji.tool.AppDelegate.getAppContext(), 1, false);
        androidx.recyclerview.widget.RecyclerView mRecyclerView = getMRecyclerView();
        androidx.recyclerview.widget.LinearLayoutManager linearLayoutManager2 = this.mLayoutManager;
        if (linearLayoutManager2 == null) {
            kotlin.jvm.internal.Intrinsics.throwUninitializedPropertyAccessException("mLayoutManager");
        } else {
            linearLayoutManager = linearLayoutManager2;
        }
        mRecyclerView.setLayoutManager(linearLayoutManager);
        if (this.flowerType == 45) {
            getMRecyclerView().addItemDecoration(new moji.com.mjweatherservicebase.BaseHomePageActivity$onCreate$1());
        }
        getMRecyclerView().addOnScrollListener(getMAdapter().getOnScrollListener());
        getMRecyclerView().setAdapter(getMAdapter());
        getMAdapter().setCityId(this.mCityId, this.mLat, this.mLon);
    }

    public void onDestroy() {
        super.onDestroy();
        io.reactivex.disposables.Disposable disposable = this.mSubscribe;
        if (disposable != null) {
            kotlin.jvm.internal.Intrinsics.checkNotNull(disposable);
            if (!disposable.isDisposed()) {
                io.reactivex.disposables.Disposable disposable2 = this.mSubscribe;
                kotlin.jvm.internal.Intrinsics.checkNotNull(disposable2);
                disposable2.dispose();
            }
        }
        F = null;
    }

    public void onSaveInstanceState(@org.jetbrains.annotations.NotNull android.os.Bundle outState) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(outState, "outState");
    }

    public final void opFinalShareBit(@org.jetbrains.annotations.NotNull java.util.ArrayList<android.graphics.Bitmap> map) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(map, "map");
        getMTitleBar().setBackIconVisible(4);
        getMTitleBar().getAction(0).setVisibility(4);
        if (getMTitleBar().getActionCount() > 1) {
            getMTitleBar().getAction(1).setVisibility(4);
        }
        getMTitleBar().destroyDrawingCache();
        getMTitleBar().buildDrawingCache();
        android.graphics.Bitmap drawingCache = getMTitleBar().getDrawingCache();
        getMTitleBar().setBackIconVisible(0);
        getMTitleBar().getAction(0).setVisibility(0);
        if (getMTitleBar().getActionCount() > 1) {
            getMTitleBar().getAction(1).setVisibility(0);
        }
        this.mSubscribe = io.reactivex.Observable.create(new defpackage.bh(this, drawingCache, map)).subscribeOn(io.reactivex.schedulers.Schedulers.io()).observeOn(io.reactivex.android.schedulers.AndroidSchedulers.mainThread()).subscribe(new defpackage.ch(this));
    }

    public final void prepareShare() {
        androidx.recyclerview.widget.RecyclerView.LayoutManager layoutManager = getMRecyclerView().getLayoutManager();
        if (layoutManager == null) {
            throw new java.lang.NullPointerException("null cannot be cast to non-null type androidx.recyclerview.widget.LinearLayoutManager");
        }
        androidx.recyclerview.widget.LinearLayoutManager linearLayoutManager = (androidx.recyclerview.widget.LinearLayoutManager) layoutManager;
        int findFirstVisibleItemPosition = linearLayoutManager.findFirstVisibleItemPosition();
        int findLastVisibleItemPosition = linearLayoutManager.findLastVisibleItemPosition();
        if (getMAdapter().getMMapPos() < findFirstVisibleItemPosition || getMAdapter().getMMapPos() > findLastVisibleItemPosition) {
            getMRecyclerView().scrollToPosition(0);
        }
        getMAdapter().getMapBits(new moji.com.mjweatherservicebase.BaseHomePageActivity$prepareShare$1(this));
    }

    public final void setFlowerType(int i) {
        this.flowerType = i;
    }

    public final void setForeignCountry(boolean z) {
        this.isForeignCountry = z;
    }

    public final void setMArea(@org.jetbrains.annotations.Nullable com.moji.common.area.AreaInfo areaInfo) {
        this.mArea = areaInfo;
    }

    public final void setMHolder(@org.jetbrains.annotations.NotNull android.view.View view) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(view, "<set-?>");
        this.mHolder = view;
    }

    public final void setMLat(double d) {
        this.mLat = d;
    }

    public final void setMLon(double d) {
        this.mLon = d;
    }

    public final void setMRecyclerView(@org.jetbrains.annotations.NotNull androidx.recyclerview.widget.RecyclerView recyclerView) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(recyclerView, "<set-?>");
        this.mRecyclerView = recyclerView;
    }

    public final void setMStateView(@org.jetbrains.annotations.NotNull com.moji.multiplestatuslayout.MJMultipleStatusLayout mJMultipleStatusLayout) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(mJMultipleStatusLayout, "<set-?>");
        this.mStateView = mJMultipleStatusLayout;
    }

    public final void setMTitleBar(@org.jetbrains.annotations.NotNull com.moji.titlebar.MJTitleBar mJTitleBar) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(mJTitleBar, "<set-?>");
        this.mTitleBar = mJTitleBar;
    }
}
