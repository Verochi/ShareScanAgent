package moji.com.moondatepicker;

@kotlin.Metadata(d1 = {"\u0000\u0092\u0001\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\b\n\u0002\b\b\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\t\n\u0002\b\u0005\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u000b\n\u0002\b\u0004\n\u0002\u0010 \n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0013\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\u0006\n\u0002\b\n\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\b\u0018\u0000 e2\b\u0012\u0004\u0012\u00020\u00020\u00012\u00020\u0003:\u0004feghB\u001f\u0012\u0006\u0010b\u001a\u00020a\u0012\u0006\u00100\u001a\u00020-\u0012\u0006\u00104\u001a\u000201¢\u0006\u0004\bc\u0010dJR\u0010\u0010\u001a\u00020\u000f2\b\u0010\u0005\u001a\u0004\u0018\u00010\u00042\u0006\u0010\u0007\u001a\u00020\u00062\u0006\u0010\b\u001a\u00020\u00062\u0006\u0010\t\u001a\u00020\u00062\u0006\u0010\n\u001a\u00020\u00062\u0006\u0010\u000b\u001a\u00020\u00062\u0006\u0010\f\u001a\u00020\u00062\u0006\u0010\r\u001a\u00020\u00062\u0006\u0010\u000e\u001a\u00020\u0006H\u0016J\u0006\u0010\u0012\u001a\u00020\u0011J\u000e\u0010\u0015\u001a\u00020\u00142\u0006\u0010\u0013\u001a\u00020\u0006J\u0010\u0010\u0017\u001a\u00020\u000f2\u0006\u0010\u0016\u001a\u00020\u0002H\u0016J\u000e\u0010\u0019\u001a\u00020\u000f2\u0006\u0010\u0018\u001a\u00020\u0014J\f\u0010\u001c\u001a\b\u0012\u0004\u0012\u00020\u001b0\u001aJ\f\u0010\u001e\u001a\b\u0012\u0004\u0012\u00020\u001d0\u001aJ\f\u0010\u001f\u001a\b\u0012\u0004\u0012\u00020\u00020\u001aJ\u0006\u0010 \u001a\u00020\u000fJ\"\u0010$\u001a\u0016\u0012\u0012\u0012\u0010\u0012\u0004\u0012\u00020\u0014\u0012\u0004\u0012\u00020\u0014\u0018\u00010#0\"2\u0006\u0010!\u001a\u00020\u0006J\f\u0010%\u001a\b\u0012\u0004\u0012\u00020\u001d0\u001aJ\u0006\u0010&\u001a\u00020\u0006J\u0006\u0010'\u001a\u00020\u000fJ\b\u0010(\u001a\u00020\u000fH\u0002J\b\u0010)\u001a\u00020\u000fH\u0002J\u0010\u0010+\u001a\u00020\u000f2\u0006\u0010*\u001a\u00020\u001dH\u0002J\b\u0010,\u001a\u00020\u000fH\u0002R\u0014\u00100\u001a\u00020-8\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\b.\u0010/R\u0014\u00104\u001a\u0002018\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\b2\u00103R\u001a\u00108\u001a\b\u0012\u0004\u0012\u00020\u001b058\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\b6\u00107R\u001a\u0010:\u001a\b\u0012\u0004\u0012\u00020\u001d058\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\b9\u00107R\u0014\u0010=\u001a\u00020\u00068\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\b;\u0010<R\u001a\u0010B\u001a\u00020\u00148\u0000X\u0080D¢\u0006\f\n\u0004\b>\u0010?\u001a\u0004\b@\u0010AR\u0016\u0010E\u001a\u00020\u001d8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bC\u0010DR\u0018\u0010H\u001a\u0004\u0018\u00010\u00028\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bF\u0010GR\u0014\u0010L\u001a\u00020I8\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\bJ\u0010KR\u0014\u0010P\u001a\u00020M8\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\bN\u0010OR\"\u0010X\u001a\u00020Q8\u0006@\u0006X\u0086\u000e¢\u0006\u0012\n\u0004\bR\u0010S\u001a\u0004\bT\u0010U\"\u0004\bV\u0010WR\u0016\u0010Y\u001a\u00020\u001d8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bS\u0010DR\u0016\u0010[\u001a\u00020\u001d8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bZ\u0010DR\u001c\u0010`\u001a\n ]*\u0004\u0018\u00010\\0\\8\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\b^\u0010_¨\u0006i"}, d2 = {"Lmoji/com/moondatepicker/MoonDatePickerPresenter;", "Landroidx/lifecycle/Observer;", "Lcom/moji/mjlunarphase/moondatepicker/SimpleCityInfo;", "Landroid/view/View$OnLayoutChangeListener;", "Landroid/view/View;", "p0", "", "p1", com.anythink.core.common.h.c.X, "p3", "p4", "p5", "p6", "p7", "p8", "", "onLayoutChange", "Landroidx/recyclerview/widget/RecyclerView$OnScrollListener;", "getOnScrollListener", com.alibaba.sdk.android.oss.common.RequestParameters.POSITION, "", "getItemTime", "simpleCityInfo", "onChanged", "targetTime", "scrollToTime", "Landroidx/lifecycle/LiveData;", "Lcom/moji/mjlunarphase/moondatepicker/DatePickerData;", "getPickedData", "", "getStatedData", "getCurrentCityLatLng", "reloadCityData", org.apache.tools.ant.taskdefs.optional.vss.MSVSSConstants.TIME_CURRENT, "", "Lkotlin/Pair;", "getNearbyRiseAndSet", "getComputeState", "getTextBase", "notifyScrollStop", "e", "b", "success", "d", "f", "Lcom/moji/mjlunarphase/moondatepicker/MoonDatePickerView;", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.AD_COUNT, "Lcom/moji/mjlunarphase/moondatepicker/MoonDatePickerView;", "moonDatePickerView", "Lcom/moji/mjlunarphase/databinding/MoonPickerViewBinding;", "t", "Lcom/moji/mjlunarphase/databinding/MoonPickerViewBinding;", "mBinding", "Landroidx/lifecycle/MutableLiveData;", com.umeng.analytics.pro.bo.aN, "Landroidx/lifecycle/MutableLiveData;", "mPickedData", "v", "mScrollStateData", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.WIDTH, "I", "itemWidth", "x", "J", "getONE_HOUR$MJLunarPhase_release", "()J", "ONE_HOUR", "y", "Z", "needDispatchScrollStop", com.umeng.analytics.pro.bo.aJ, "Lcom/moji/mjlunarphase/moondatepicker/SimpleCityInfo;", "mCurrentCityInfo", "Lcom/moji/mjlunarphase/moondatepicker/MoonDatePickerViewModel;", androidx.exifinterface.media.ExifInterface.GPS_MEASUREMENT_IN_PROGRESS, "Lcom/moji/mjlunarphase/moondatepicker/MoonDatePickerViewModel;", "moonDatePickerViewModel", "Lmoji/com/moondatepicker/MoonDatePickerPresenter$ScrollListener;", "B", "Lmoji/com/moondatepicker/MoonDatePickerPresenter$ScrollListener;", "mScrollListener", "", "C", "D", "getMScrollX", "()D", "setMScrollX", "(D)V", "mScrollX", "mHasChangedTime", androidx.exifinterface.media.ExifInterface.LONGITUDE_EAST, "hasReloadCity", "Ljava/util/Calendar;", "kotlin.jvm.PlatformType", "F", "Ljava/util/Calendar;", "mCalendar", "Landroidx/fragment/app/FragmentActivity;", "activity", "<init>", "(Landroidx/fragment/app/FragmentActivity;Lcom/moji/mjlunarphase/moondatepicker/MoonDatePickerView;Lcom/moji/mjlunarphase/databinding/MoonPickerViewBinding;)V", "Companion", "CityDateChangeObserver", "NewRiseAndSerObserver", "ScrollListener", "MJLunarPhase_release"}, k = 1, mv = {1, 6, 0})
/* loaded from: classes20.dex */
public final class MoonDatePickerPresenter implements androidx.lifecycle.Observer<com.moji.mjlunarphase.moondatepicker.SimpleCityInfo>, android.view.View.OnLayoutChangeListener {

    @org.jetbrains.annotations.NotNull
    public static final java.lang.String TAG = "MoonDatePickerPresenter";

    /* renamed from: A, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final com.moji.mjlunarphase.moondatepicker.MoonDatePickerViewModel moonDatePickerViewModel;

    /* renamed from: B, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final moji.com.moondatepicker.MoonDatePickerPresenter.ScrollListener mScrollListener;

    /* renamed from: C, reason: from kotlin metadata */
    public double mScrollX;

    /* renamed from: D, reason: from kotlin metadata */
    public boolean mHasChangedTime;

    /* renamed from: E, reason: from kotlin metadata */
    public boolean hasReloadCity;

    /* renamed from: F, reason: from kotlin metadata */
    public final java.util.Calendar mCalendar;

    /* renamed from: n, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final com.moji.mjlunarphase.moondatepicker.MoonDatePickerView moonDatePickerView;

    /* renamed from: t, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final com.moji.mjlunarphase.databinding.MoonPickerViewBinding mBinding;

    /* renamed from: u, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final androidx.lifecycle.MutableLiveData<com.moji.mjlunarphase.moondatepicker.DatePickerData> mPickedData;

    /* renamed from: v, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final androidx.lifecycle.MutableLiveData<java.lang.Boolean> mScrollStateData;

    /* renamed from: w, reason: from kotlin metadata */
    public final int itemWidth;

    /* renamed from: x, reason: from kotlin metadata */
    public final long ONE_HOUR;

    /* renamed from: y, reason: from kotlin metadata */
    public boolean needDispatchScrollStop;

    /* renamed from: z, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public com.moji.mjlunarphase.moondatepicker.SimpleCityInfo mCurrentCityInfo;

    @kotlin.Metadata(d1 = {"\u0000\u001c\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0010\u000b\n\u0000\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\b\u0018\u00002\b\u0012\u0004\u0012\u00020\u00020\u0001B\u000f\u0012\u0006\u0010\u000b\u001a\u00020\u0006¢\u0006\u0004\b\f\u0010\rJ\u0010\u0010\u0005\u001a\u00020\u00042\u0006\u0010\u0003\u001a\u00020\u0002H\u0016R\u0017\u0010\u000b\u001a\u00020\u00068\u0006¢\u0006\f\n\u0004\b\u0007\u0010\b\u001a\u0004\b\t\u0010\n¨\u0006\u000e"}, d2 = {"Lmoji/com/moondatepicker/MoonDatePickerPresenter$CityDateChangeObserver;", "Landroidx/lifecycle/Observer;", "", "result", "", "onChanged", "Lmoji/com/moondatepicker/MoonDatePickerPresenter;", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.AD_COUNT, "Lmoji/com/moondatepicker/MoonDatePickerPresenter;", "getPresenter", "()Lmoji/com/moondatepicker/MoonDatePickerPresenter;", "presenter", "<init>", "(Lmoji/com/moondatepicker/MoonDatePickerPresenter;)V", "MJLunarPhase_release"}, k = 1, mv = {1, 6, 0})
    public static final class CityDateChangeObserver implements androidx.lifecycle.Observer<java.lang.Boolean> {

        /* renamed from: n, reason: from kotlin metadata */
        @org.jetbrains.annotations.NotNull
        public final moji.com.moondatepicker.MoonDatePickerPresenter presenter;

        public CityDateChangeObserver(@org.jetbrains.annotations.NotNull moji.com.moondatepicker.MoonDatePickerPresenter presenter) {
            kotlin.jvm.internal.Intrinsics.checkNotNullParameter(presenter, "presenter");
            this.presenter = presenter;
        }

        @org.jetbrains.annotations.NotNull
        public final moji.com.moondatepicker.MoonDatePickerPresenter getPresenter() {
            return this.presenter;
        }

        @Override // androidx.lifecycle.Observer
        public /* bridge */ /* synthetic */ void onChanged(java.lang.Boolean bool) {
            onChanged(bool.booleanValue());
        }

        public void onChanged(boolean result) {
            this.presenter.d(result);
            com.moji.tool.log.MJLogger.d(moji.com.moondatepicker.MoonDatePickerPresenter.TAG, "onLoadDataFinish");
        }
    }

    @kotlin.Metadata(d1 = {"\u0000\u001c\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0010\u000b\n\u0000\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\b\u0018\u00002\b\u0012\u0004\u0012\u00020\u00020\u0001B\u000f\u0012\u0006\u0010\u000b\u001a\u00020\u0006¢\u0006\u0004\b\f\u0010\rJ\u0010\u0010\u0005\u001a\u00020\u00042\u0006\u0010\u0003\u001a\u00020\u0002H\u0016R\u0017\u0010\u000b\u001a\u00020\u00068\u0006¢\u0006\f\n\u0004\b\u0007\u0010\b\u001a\u0004\b\t\u0010\n¨\u0006\u000e"}, d2 = {"Lmoji/com/moondatepicker/MoonDatePickerPresenter$NewRiseAndSerObserver;", "Landroidx/lifecycle/Observer;", "", "result", "", "onChanged", "Lmoji/com/moondatepicker/MoonDatePickerPresenter;", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.AD_COUNT, "Lmoji/com/moondatepicker/MoonDatePickerPresenter;", "getPresenter", "()Lmoji/com/moondatepicker/MoonDatePickerPresenter;", "presenter", "<init>", "(Lmoji/com/moondatepicker/MoonDatePickerPresenter;)V", "MJLunarPhase_release"}, k = 1, mv = {1, 6, 0})
    public static final class NewRiseAndSerObserver implements androidx.lifecycle.Observer<java.lang.Boolean> {

        /* renamed from: n, reason: from kotlin metadata */
        @org.jetbrains.annotations.NotNull
        public final moji.com.moondatepicker.MoonDatePickerPresenter presenter;

        public NewRiseAndSerObserver(@org.jetbrains.annotations.NotNull moji.com.moondatepicker.MoonDatePickerPresenter presenter) {
            kotlin.jvm.internal.Intrinsics.checkNotNullParameter(presenter, "presenter");
            this.presenter = presenter;
        }

        @org.jetbrains.annotations.NotNull
        public final moji.com.moondatepicker.MoonDatePickerPresenter getPresenter() {
            return this.presenter;
        }

        @Override // androidx.lifecycle.Observer
        public /* bridge */ /* synthetic */ void onChanged(java.lang.Boolean bool) {
            onChanged(bool.booleanValue());
        }

        public void onChanged(boolean result) {
            this.presenter.b();
        }
    }

    @kotlin.Metadata(d1 = {"\u0000&\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\b\n\u0002\b\u0002\n\u0002\u0010\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0006\u0018\u00002\u00020\u0001B\u000f\u0012\u0006\u0010\u000e\u001a\u00020\u000b¢\u0006\u0004\b\u000f\u0010\u0010J \u0010\b\u001a\u00020\u00072\u0006\u0010\u0003\u001a\u00020\u00022\u0006\u0010\u0005\u001a\u00020\u00042\u0006\u0010\u0006\u001a\u00020\u0004H\u0016J\u0018\u0010\n\u001a\u00020\u00072\u0006\u0010\u0003\u001a\u00020\u00022\u0006\u0010\t\u001a\u00020\u0004H\u0016R\u0014\u0010\u000e\u001a\u00020\u000b8\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\b\f\u0010\r¨\u0006\u0011"}, d2 = {"Lmoji/com/moondatepicker/MoonDatePickerPresenter$ScrollListener;", "Landroidx/recyclerview/widget/RecyclerView$OnScrollListener;", "Landroidx/recyclerview/widget/RecyclerView;", "recyclerView", "", "dx", "dy", "", "onScrolled", "newState", "onScrollStateChanged", "Lmoji/com/moondatepicker/MoonDatePickerPresenter;", "t", "Lmoji/com/moondatepicker/MoonDatePickerPresenter;", "presenter", "<init>", "(Lmoji/com/moondatepicker/MoonDatePickerPresenter;)V", "MJLunarPhase_release"}, k = 1, mv = {1, 6, 0})
    public static final class ScrollListener extends androidx.recyclerview.widget.RecyclerView.OnScrollListener {

        /* renamed from: t, reason: from kotlin metadata */
        @org.jetbrains.annotations.NotNull
        public final moji.com.moondatepicker.MoonDatePickerPresenter presenter;

        public ScrollListener(@org.jetbrains.annotations.NotNull moji.com.moondatepicker.MoonDatePickerPresenter presenter) {
            kotlin.jvm.internal.Intrinsics.checkNotNullParameter(presenter, "presenter");
            this.presenter = presenter;
        }

        @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
        public void onScrollStateChanged(@org.jetbrains.annotations.NotNull androidx.recyclerview.widget.RecyclerView recyclerView, int newState) {
            kotlin.jvm.internal.Intrinsics.checkNotNullParameter(recyclerView, "recyclerView");
            super.onScrollStateChanged(recyclerView, newState);
            if (newState == 0) {
                this.presenter.notifyScrollStop();
            }
        }

        @Override // androidx.recyclerview.widget.RecyclerView.OnScrollListener
        public void onScrolled(@org.jetbrains.annotations.NotNull androidx.recyclerview.widget.RecyclerView recyclerView, int dx, int dy) {
            kotlin.jvm.internal.Intrinsics.checkNotNullParameter(recyclerView, "recyclerView");
            super.onScrolled(recyclerView, dx, dy);
            moji.com.moondatepicker.MoonDatePickerPresenter moonDatePickerPresenter = this.presenter;
            moonDatePickerPresenter.setMScrollX(moonDatePickerPresenter.getMScrollX() + dx);
            this.presenter.e();
        }
    }

    public MoonDatePickerPresenter(@org.jetbrains.annotations.NotNull androidx.fragment.app.FragmentActivity activity, @org.jetbrains.annotations.NotNull com.moji.mjlunarphase.moondatepicker.MoonDatePickerView moonDatePickerView, @org.jetbrains.annotations.NotNull com.moji.mjlunarphase.databinding.MoonPickerViewBinding mBinding) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(activity, "activity");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(moonDatePickerView, "moonDatePickerView");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(mBinding, "mBinding");
        this.moonDatePickerView = moonDatePickerView;
        this.mBinding = mBinding;
        this.mPickedData = new androidx.lifecycle.MutableLiveData<>();
        this.mScrollStateData = new androidx.lifecycle.MutableLiveData<>();
        this.itemWidth = com.moji.tool.DeviceTool.dp2px(10.0f);
        this.ONE_HOUR = 3600000L;
        com.moji.mjlunarphase.moondatepicker.MoonDatePickerViewModel moonDatePickerViewModel = androidx.lifecycle.ViewModelProviders.of(activity).get(com.moji.mjlunarphase.moondatepicker.MoonDatePickerViewModel.class);
        this.moonDatePickerViewModel = moonDatePickerViewModel;
        moonDatePickerViewModel.loadCityInfo();
        moonDatePickerViewModel.getCurrentCityLatLng().observe(activity, this);
        moonDatePickerViewModel.getRiseAndSetLiveData().observe(activity, new moji.com.moondatepicker.MoonDatePickerPresenter.CityDateChangeObserver(this));
        moonDatePickerViewModel.getMNewRiseAndSetDataFinishedLiveData().observe(activity, new moji.com.moondatepicker.MoonDatePickerPresenter.NewRiseAndSerObserver(this));
        mBinding.moonRecyclerView.addOnLayoutChangeListener(this);
        this.mScrollListener = new moji.com.moondatepicker.MoonDatePickerPresenter.ScrollListener(this);
        this.mCalendar = java.util.Calendar.getInstance();
    }

    public static final void c(moji.com.moondatepicker.MoonDatePickerPresenter this$0) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        this$0.mScrollStateData.postValue(java.lang.Boolean.TRUE);
    }

    public final void b() {
        com.moji.tool.log.MJLogger.d(TAG, "afterComputeData");
        e();
        this.mBinding.moonRecyclerView.invalidate();
        if (this.mHasChangedTime) {
            notifyScrollStop();
            this.mHasChangedTime = false;
        }
    }

    public final void d(boolean success) {
        if (!success) {
            f();
            return;
        }
        if (!this.hasReloadCity) {
            scrollToTime(java.lang.System.currentTimeMillis());
            return;
        }
        com.moji.mjlunarphase.moondatepicker.DatePickerData value = this.mPickedData.getValue();
        if (value == null || value.isCurrentTime()) {
            scrollToTime(java.lang.System.currentTimeMillis());
        } else {
            scrollToTime(value.getMSelectedTime());
        }
        this.hasReloadCity = false;
    }

    public final void e() {
        if (this.mCurrentCityInfo == null) {
            return;
        }
        double d = this.mScrollX / this.itemWidth;
        long startTime = (long) (this.moonDatePickerViewModel.getStartTime() + (this.ONE_HOUR * d));
        double d2 = d / 24;
        boolean z = java.lang.Math.abs(java.lang.System.currentTimeMillis() - startTime) < 500;
        kotlin.Pair findCurrentOrAfterRiseAndSet = this.moonDatePickerViewModel.findCurrentOrAfterRiseAndSet(startTime, d2);
        androidx.lifecycle.MutableLiveData<com.moji.mjlunarphase.moondatepicker.DatePickerData> mutableLiveData = this.mPickedData;
        com.moji.mjlunarphase.moondatepicker.SimpleCityInfo simpleCityInfo = this.mCurrentCityInfo;
        kotlin.jvm.internal.Intrinsics.checkNotNull(simpleCityInfo);
        mutableLiveData.setValue(new com.moji.mjlunarphase.moondatepicker.DatePickerData(simpleCityInfo, startTime, findCurrentOrAfterRiseAndSet, z));
        com.moji.tool.log.MJLogger.d(TAG, "onTimeSelected" + findCurrentOrAfterRiseAndSet);
        this.moonDatePickerViewModel.proLoadRiseAndSet((int) d2, false);
    }

    public final void f() {
    }

    @org.jetbrains.annotations.NotNull
    public final androidx.lifecycle.LiveData<java.lang.Boolean> getComputeState() {
        return this.moonDatePickerViewModel.getRiseAndSetLiveData();
    }

    @org.jetbrains.annotations.NotNull
    public final androidx.lifecycle.LiveData<com.moji.mjlunarphase.moondatepicker.SimpleCityInfo> getCurrentCityLatLng() {
        return this.moonDatePickerViewModel.getCurrentCityLatLng();
    }

    public final long getItemTime(int position) {
        return this.moonDatePickerViewModel.getStartTime() + (this.ONE_HOUR * (position - 1));
    }

    public final double getMScrollX() {
        return this.mScrollX;
    }

    @org.jetbrains.annotations.NotNull
    public final java.util.List<kotlin.Pair<java.lang.Long, java.lang.Long>> getNearbyRiseAndSet(int current) {
        return this.moonDatePickerViewModel.findNearbyRiseAndSet(current);
    }

    /* renamed from: getONE_HOUR$MJLunarPhase_release, reason: from getter */
    public final long getONE_HOUR() {
        return this.ONE_HOUR;
    }

    @org.jetbrains.annotations.NotNull
    public final androidx.recyclerview.widget.RecyclerView.OnScrollListener getOnScrollListener() {
        return this.mScrollListener;
    }

    @org.jetbrains.annotations.NotNull
    public final androidx.lifecycle.LiveData<com.moji.mjlunarphase.moondatepicker.DatePickerData> getPickedData() {
        return this.mPickedData;
    }

    @org.jetbrains.annotations.NotNull
    public final androidx.lifecycle.LiveData<java.lang.Boolean> getStatedData() {
        return this.mScrollStateData;
    }

    public final int getTextBase() {
        android.widget.TextView tvNow = this.moonDatePickerView.getTvNow();
        if (tvNow != null) {
            return tvNow.getBaseline() + tvNow.getTop();
        }
        return 0;
    }

    public final void notifyScrollStop() {
        com.moji.tool.log.MJLogger.d(TAG, "notifyScrollStop");
        this.moonDatePickerView.post(new defpackage.hn1(this));
    }

    @Override // androidx.lifecycle.Observer
    public void onChanged(@org.jetbrains.annotations.NotNull com.moji.mjlunarphase.moondatepicker.SimpleCityInfo simpleCityInfo) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(simpleCityInfo, "simpleCityInfo");
        com.moji.tool.log.MJLogger.d(TAG, simpleCityInfo.toString());
        if (simpleCityInfo.getNoData()) {
            com.moji.tool.log.MJLogger.d(TAG, "onChanged bug no data");
        } else {
            this.mCalendar.setTimeZone(simpleCityInfo.getTimeZone());
            this.mCurrentCityInfo = simpleCityInfo;
        }
    }

    @Override // android.view.View.OnLayoutChangeListener
    public void onLayoutChange(@org.jetbrains.annotations.Nullable android.view.View p0, int p1, int p2, int p3, int p4, int p5, int p6, int p7, int p8) {
        com.moji.tool.log.MJLogger.d(TAG, "onLayoutChange");
        if (this.needDispatchScrollStop) {
            notifyScrollStop();
            this.needDispatchScrollStop = false;
        }
    }

    public final void reloadCityData() {
        this.moonDatePickerViewModel.loadCityInfo();
        this.hasReloadCity = true;
    }

    public final void scrollToTime(long targetTime) {
        int i;
        int i2;
        double width = (this.moonDatePickerView.getWidth() / 2) / this.itemWidth;
        this.mCalendar.setTimeInMillis(this.moonDatePickerViewModel.getStartTime());
        double startTime = (targetTime - this.moonDatePickerViewModel.getStartTime()) / this.ONE_HOUR;
        com.moji.tool.log.MJLogger.d(TAG, "now is " + this.mCalendar.getTime());
        if (startTime < width) {
            i2 = (int) ((-startTime) * this.itemWidth);
            i = 0;
        } else {
            double d = (startTime - width) + 1.5d;
            i = (int) d;
            i2 = (int) ((-(d - i)) * this.itemWidth);
        }
        this.moonDatePickerView.scrollToPosition(i, i2);
        double d2 = startTime * this.itemWidth;
        boolean z = java.lang.Math.abs(d2 - this.mScrollX) / ((double) this.itemWidth) > 24.0d;
        this.mScrollX = d2;
        e();
        if (z) {
            this.mHasChangedTime = true;
        } else {
            this.needDispatchScrollStop = true;
        }
    }

    public final void setMScrollX(double d) {
        this.mScrollX = d;
    }
}
