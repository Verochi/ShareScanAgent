package com.chad.library.adapter.base.module;

@kotlin.Metadata(d1 = {"\u0000N\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u000b\n\u0000\n\u0002\u0010\u0015\n\u0000\n\u0002\u0010\b\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u000f\n\u0002\u0018\u0002\n\u0002\b\u0005\n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0018\u0002\n\u0002\b\u001f\b\u0016\u0018\u00002\u00020\u0001B\u0017\u0012\u000e\u0010%\u001a\n\u0012\u0002\b\u0003\u0012\u0002\b\u00030\"¢\u0006\u0004\bS\u0010TJ\b\u0010\u0003\u001a\u00020\u0002H\u0002J\u0010\u0010\u0007\u001a\u00020\u00062\u0006\u0010\u0005\u001a\u00020\u0004H\u0002J\u0012\u0010\u000b\u001a\u00020\n2\b\u0010\t\u001a\u0004\u0018\u00010\bH\u0002J\u0017\u0010\u0010\u001a\u00020\u00022\u0006\u0010\r\u001a\u00020\fH\u0000¢\u0006\u0004\b\u000e\u0010\u000fJ\u0006\u0010\u0011\u001a\u00020\u0002J\u0006\u0010\u0012\u001a\u00020\u0006J\u0017\u0010\u0016\u001a\u00020\u00022\u0006\u0010\u0013\u001a\u00020\nH\u0000¢\u0006\u0004\b\u0014\u0010\u0015J\u0006\u0010\u0017\u001a\u00020\u0002J\u0012\u0010\u0019\u001a\u00020\u00022\b\b\u0002\u0010\u0018\u001a\u00020\u0006H\u0007J\u0006\u0010\u001a\u001a\u00020\u0002J\u0006\u0010\u001b\u001a\u00020\u0002J\u0012\u0010\u001e\u001a\u00020\u00022\b\u0010\u001d\u001a\u0004\u0018\u00010\u001cH\u0016J\u000f\u0010!\u001a\u00020\u0002H\u0000¢\u0006\u0004\b\u001f\u0010 R\u001c\u0010%\u001a\n\u0012\u0002\b\u0003\u0012\u0002\b\u00030\"8\u0002X\u0082\u0004¢\u0006\u0006\n\u0004\b#\u0010$R\u0018\u0010(\u001a\u0004\u0018\u00010\u001c8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b&\u0010'R\u0016\u0010+\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b)\u0010*R$\u00102\u001a\u00020,2\u0006\u0010-\u001a\u00020,8\u0006@BX\u0086\u000e¢\u0006\f\n\u0004\b.\u0010/\u001a\u0004\b0\u00101R$\u00104\u001a\u00020\u00062\u0006\u0010-\u001a\u00020\u00068\u0006@BX\u0086\u000e¢\u0006\f\n\u0004\b3\u0010*\u001a\u0004\b4\u00105R\"\u0010=\u001a\u0002068\u0006@\u0006X\u0086\u000e¢\u0006\u0012\n\u0004\b7\u00108\u001a\u0004\b9\u0010:\"\u0004\b;\u0010<R\"\u0010A\u001a\u00020\u00068\u0006@\u0006X\u0086\u000e¢\u0006\u0012\n\u0004\b\u000b\u0010*\u001a\u0004\b>\u00105\"\u0004\b?\u0010@R\"\u0010B\u001a\u00020\u00068\u0006@\u0006X\u0086\u000e¢\u0006\u0012\n\u0004\b\u0003\u0010*\u001a\u0004\bB\u00105\"\u0004\bC\u0010@R\"\u0010E\u001a\u00020\u00068\u0006@\u0006X\u0086\u000e¢\u0006\u0012\n\u0004\bD\u0010*\u001a\u0004\bE\u00105\"\u0004\bF\u0010@R*\u0010L\u001a\u00020\n2\u0006\u0010G\u001a\u00020\n8\u0006@FX\u0086\u000e¢\u0006\u0012\n\u0004\b\u0007\u0010H\u001a\u0004\bI\u0010J\"\u0004\bK\u0010\u0015R*\u0010N\u001a\u00020\u00062\u0006\u0010G\u001a\u00020\u00068\u0006@FX\u0086\u000e¢\u0006\u0012\n\u0004\bM\u0010*\u001a\u0004\bN\u00105\"\u0004\bO\u0010@R\u0011\u0010P\u001a\u00020\u00068F¢\u0006\u0006\u001a\u0004\bP\u00105R\u0011\u0010R\u001a\u00020\n8F¢\u0006\u0006\u001a\u0004\bQ\u0010J¨\u0006U"}, d2 = {"Lcom/chad/library/adapter/base/module/BaseLoadMoreModule;", "Lcom/chad/library/adapter/base/listener/LoadMoreListenerImp;", "", "h", "Landroidx/recyclerview/widget/LinearLayoutManager;", "llm", "", "j", "", "numbers", "", "g", "Lcom/chad/library/adapter/base/viewholder/BaseViewHolder;", "viewHolder", "setupViewHolder$com_github_CymChad_brvah", "(Lcom/chad/library/adapter/base/viewholder/BaseViewHolder;)V", "setupViewHolder", "loadMoreToLoading", "hasLoadMoreView", com.alibaba.sdk.android.oss.common.RequestParameters.POSITION, "autoLoadMore$com_github_CymChad_brvah", "(I)V", "autoLoadMore", "checkDisableLoadMoreIfNotFullPage", "gone", "loadMoreEnd", "loadMoreComplete", "loadMoreFail", "Lcom/chad/library/adapter/base/listener/OnLoadMoreListener;", com.google.android.gms.common.internal.ServiceSpecificExtraArgs.CastExtraArgs.LISTENER, "setOnLoadMoreListener", "reset$com_github_CymChad_brvah", "()V", "reset", "Lcom/chad/library/adapter/base/BaseQuickAdapter;", "a", "Lcom/chad/library/adapter/base/BaseQuickAdapter;", "baseQuickAdapter", "b", "Lcom/chad/library/adapter/base/listener/OnLoadMoreListener;", "mLoadMoreListener", "c", "Z", "mNextLoadEnable", "Lcom/chad/library/adapter/base/loadmore/LoadMoreStatus;", "<set-?>", "d", "Lcom/chad/library/adapter/base/loadmore/LoadMoreStatus;", "getLoadMoreStatus", "()Lcom/chad/library/adapter/base/loadmore/LoadMoreStatus;", "loadMoreStatus", "e", "isLoadEndMoreGone", "()Z", "Lcom/chad/library/adapter/base/loadmore/BaseLoadMoreView;", "f", "Lcom/chad/library/adapter/base/loadmore/BaseLoadMoreView;", "getLoadMoreView", "()Lcom/chad/library/adapter/base/loadmore/BaseLoadMoreView;", "setLoadMoreView", "(Lcom/chad/library/adapter/base/loadmore/BaseLoadMoreView;)V", "loadMoreView", "getEnableLoadMoreEndClick", "setEnableLoadMoreEndClick", "(Z)V", "enableLoadMoreEndClick", "isAutoLoadMore", "setAutoLoadMore", "i", "isEnableLoadMoreIfNotFullPage", "setEnableLoadMoreIfNotFullPage", "value", "I", "getPreLoadNumber", "()I", "setPreLoadNumber", "preLoadNumber", "k", "isEnableLoadMore", "setEnableLoadMore", "isLoading", "getLoadMoreViewPosition", "loadMoreViewPosition", "<init>", "(Lcom/chad/library/adapter/base/BaseQuickAdapter;)V", "com.github.CymChad.brvah"}, k = 1, mv = {1, 6, 0})
/* loaded from: classes31.dex */
public class BaseLoadMoreModule implements com.chad.library.adapter.base.listener.LoadMoreListenerImp {

    /* renamed from: a, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public final com.chad.library.adapter.base.BaseQuickAdapter<?, ?> baseQuickAdapter;

    /* renamed from: b, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public com.chad.library.adapter.base.listener.OnLoadMoreListener mLoadMoreListener;

    /* renamed from: c, reason: from kotlin metadata */
    public boolean mNextLoadEnable;

    /* renamed from: d, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public com.chad.library.adapter.base.loadmore.LoadMoreStatus loadMoreStatus;

    /* renamed from: e, reason: from kotlin metadata */
    public boolean isLoadEndMoreGone;

    /* renamed from: f, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public com.chad.library.adapter.base.loadmore.BaseLoadMoreView loadMoreView;

    /* renamed from: g, reason: from kotlin metadata */
    public boolean enableLoadMoreEndClick;

    /* renamed from: h, reason: from kotlin metadata */
    public boolean isAutoLoadMore;

    /* renamed from: i, reason: from kotlin metadata */
    public boolean isEnableLoadMoreIfNotFullPage;

    /* renamed from: j, reason: from kotlin metadata */
    public int preLoadNumber;

    /* renamed from: k, reason: from kotlin metadata */
    public boolean isEnableLoadMore;

    public BaseLoadMoreModule(@org.jetbrains.annotations.NotNull com.chad.library.adapter.base.BaseQuickAdapter<?, ?> baseQuickAdapter) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(baseQuickAdapter, "baseQuickAdapter");
        this.baseQuickAdapter = baseQuickAdapter;
        this.mNextLoadEnable = true;
        this.loadMoreStatus = com.chad.library.adapter.base.loadmore.LoadMoreStatus.Complete;
        this.loadMoreView = com.chad.library.adapter.base.module.LoadMoreModuleConfig.getDefLoadMoreView();
        this.isAutoLoadMore = true;
        this.isEnableLoadMoreIfNotFullPage = true;
        this.preLoadNumber = 1;
    }

    public static final void e(com.chad.library.adapter.base.module.BaseLoadMoreModule this$0, androidx.recyclerview.widget.RecyclerView.LayoutManager manager) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(manager, "$manager");
        if (this$0.j((androidx.recyclerview.widget.LinearLayoutManager) manager)) {
            this$0.mNextLoadEnable = true;
        }
    }

    public static final void f(androidx.recyclerview.widget.RecyclerView.LayoutManager manager, com.chad.library.adapter.base.module.BaseLoadMoreModule this$0) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(manager, "$manager");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        androidx.recyclerview.widget.StaggeredGridLayoutManager staggeredGridLayoutManager = (androidx.recyclerview.widget.StaggeredGridLayoutManager) manager;
        int[] iArr = new int[staggeredGridLayoutManager.getSpanCount()];
        staggeredGridLayoutManager.findLastCompletelyVisibleItemPositions(iArr);
        if (this$0.g(iArr) + 1 != this$0.baseQuickAdapter.getItemCount()) {
            this$0.mNextLoadEnable = true;
        }
    }

    public static final void i(com.chad.library.adapter.base.module.BaseLoadMoreModule this$0) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        com.chad.library.adapter.base.listener.OnLoadMoreListener onLoadMoreListener = this$0.mLoadMoreListener;
        if (onLoadMoreListener != null) {
            onLoadMoreListener.onLoadMore();
        }
    }

    @com.sensorsdata.analytics.android.sdk.SensorsDataInstrumented
    public static final void k(com.chad.library.adapter.base.module.BaseLoadMoreModule this$0, android.view.View view) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        com.chad.library.adapter.base.loadmore.LoadMoreStatus loadMoreStatus = this$0.loadMoreStatus;
        if (loadMoreStatus == com.chad.library.adapter.base.loadmore.LoadMoreStatus.Fail) {
            this$0.loadMoreToLoading();
        } else if (loadMoreStatus == com.chad.library.adapter.base.loadmore.LoadMoreStatus.Complete) {
            this$0.loadMoreToLoading();
        } else if (this$0.enableLoadMoreEndClick && loadMoreStatus == com.chad.library.adapter.base.loadmore.LoadMoreStatus.End) {
            this$0.loadMoreToLoading();
        }
        com.sensorsdata.analytics.android.autotrack.aop.SensorsDataAutoTrackHelper.trackViewOnClick(view);
    }

    public static /* synthetic */ void loadMoreEnd$default(com.chad.library.adapter.base.module.BaseLoadMoreModule baseLoadMoreModule, boolean z, int i, java.lang.Object obj) {
        if (obj != null) {
            throw new java.lang.UnsupportedOperationException("Super calls with default arguments not supported in this target, function: loadMoreEnd");
        }
        if ((i & 1) != 0) {
            z = false;
        }
        baseLoadMoreModule.loadMoreEnd(z);
    }

    public final void autoLoadMore$com_github_CymChad_brvah(int position) {
        com.chad.library.adapter.base.loadmore.LoadMoreStatus loadMoreStatus;
        if (this.isAutoLoadMore && hasLoadMoreView() && position >= this.baseQuickAdapter.getItemCount() - this.preLoadNumber && (loadMoreStatus = this.loadMoreStatus) == com.chad.library.adapter.base.loadmore.LoadMoreStatus.Complete && loadMoreStatus != com.chad.library.adapter.base.loadmore.LoadMoreStatus.Loading && this.mNextLoadEnable) {
            h();
        }
    }

    public final void checkDisableLoadMoreIfNotFullPage() {
        androidx.recyclerview.widget.RecyclerView.LayoutManager layoutManager;
        if (this.isEnableLoadMoreIfNotFullPage) {
            return;
        }
        this.mNextLoadEnable = false;
        androidx.recyclerview.widget.RecyclerView recyclerViewOrNull = this.baseQuickAdapter.getRecyclerViewOrNull();
        if (recyclerViewOrNull == null || (layoutManager = recyclerViewOrNull.getLayoutManager()) == null) {
            return;
        }
        if (layoutManager instanceof androidx.recyclerview.widget.LinearLayoutManager) {
            recyclerViewOrNull.postDelayed(new defpackage.eh(this, layoutManager), 50L);
        } else if (layoutManager instanceof androidx.recyclerview.widget.StaggeredGridLayoutManager) {
            recyclerViewOrNull.postDelayed(new defpackage.fh(layoutManager, this), 50L);
        }
    }

    public final int g(int[] numbers) {
        int i = -1;
        if (numbers != null) {
            if (!(numbers.length == 0)) {
                for (int i2 : numbers) {
                    if (i2 > i) {
                        i = i2;
                    }
                }
            }
        }
        return i;
    }

    public final boolean getEnableLoadMoreEndClick() {
        return this.enableLoadMoreEndClick;
    }

    @org.jetbrains.annotations.NotNull
    public final com.chad.library.adapter.base.loadmore.LoadMoreStatus getLoadMoreStatus() {
        return this.loadMoreStatus;
    }

    @org.jetbrains.annotations.NotNull
    public final com.chad.library.adapter.base.loadmore.BaseLoadMoreView getLoadMoreView() {
        return this.loadMoreView;
    }

    public final int getLoadMoreViewPosition() {
        if (this.baseQuickAdapter.hasEmptyView()) {
            return -1;
        }
        com.chad.library.adapter.base.BaseQuickAdapter<?, ?> baseQuickAdapter = this.baseQuickAdapter;
        return baseQuickAdapter.getHeaderLayoutCount() + baseQuickAdapter.getData().size() + baseQuickAdapter.getFooterLayoutCount();
    }

    public final int getPreLoadNumber() {
        return this.preLoadNumber;
    }

    public final void h() {
        this.loadMoreStatus = com.chad.library.adapter.base.loadmore.LoadMoreStatus.Loading;
        androidx.recyclerview.widget.RecyclerView recyclerViewOrNull = this.baseQuickAdapter.getRecyclerViewOrNull();
        if (recyclerViewOrNull != null) {
            recyclerViewOrNull.post(new defpackage.gh(this));
            return;
        }
        com.chad.library.adapter.base.listener.OnLoadMoreListener onLoadMoreListener = this.mLoadMoreListener;
        if (onLoadMoreListener != null) {
            onLoadMoreListener.onLoadMore();
        }
    }

    public final boolean hasLoadMoreView() {
        if (this.mLoadMoreListener == null || !this.isEnableLoadMore) {
            return false;
        }
        if (this.loadMoreStatus == com.chad.library.adapter.base.loadmore.LoadMoreStatus.End && this.isLoadEndMoreGone) {
            return false;
        }
        return !this.baseQuickAdapter.getData().isEmpty();
    }

    /* renamed from: isAutoLoadMore, reason: from getter */
    public final boolean getIsAutoLoadMore() {
        return this.isAutoLoadMore;
    }

    /* renamed from: isEnableLoadMore, reason: from getter */
    public final boolean getIsEnableLoadMore() {
        return this.isEnableLoadMore;
    }

    /* renamed from: isEnableLoadMoreIfNotFullPage, reason: from getter */
    public final boolean getIsEnableLoadMoreIfNotFullPage() {
        return this.isEnableLoadMoreIfNotFullPage;
    }

    /* renamed from: isLoadEndMoreGone, reason: from getter */
    public final boolean getIsLoadEndMoreGone() {
        return this.isLoadEndMoreGone;
    }

    public final boolean isLoading() {
        return this.loadMoreStatus == com.chad.library.adapter.base.loadmore.LoadMoreStatus.Loading;
    }

    public final boolean j(androidx.recyclerview.widget.LinearLayoutManager llm) {
        return (llm.findLastCompletelyVisibleItemPosition() + 1 == this.baseQuickAdapter.getItemCount() && llm.findFirstCompletelyVisibleItemPosition() == 0) ? false : true;
    }

    public final void loadMoreComplete() {
        if (hasLoadMoreView()) {
            this.loadMoreStatus = com.chad.library.adapter.base.loadmore.LoadMoreStatus.Complete;
            this.baseQuickAdapter.notifyItemChanged(getLoadMoreViewPosition());
            checkDisableLoadMoreIfNotFullPage();
        }
    }

    @kotlin.jvm.JvmOverloads
    public final void loadMoreEnd() {
        loadMoreEnd$default(this, false, 1, null);
    }

    @kotlin.jvm.JvmOverloads
    public final void loadMoreEnd(boolean gone) {
        if (hasLoadMoreView()) {
            this.isLoadEndMoreGone = gone;
            this.loadMoreStatus = com.chad.library.adapter.base.loadmore.LoadMoreStatus.End;
            if (gone) {
                this.baseQuickAdapter.notifyItemRemoved(getLoadMoreViewPosition());
            } else {
                this.baseQuickAdapter.notifyItemChanged(getLoadMoreViewPosition());
            }
        }
    }

    public final void loadMoreFail() {
        if (hasLoadMoreView()) {
            this.loadMoreStatus = com.chad.library.adapter.base.loadmore.LoadMoreStatus.Fail;
            this.baseQuickAdapter.notifyItemChanged(getLoadMoreViewPosition());
        }
    }

    public final void loadMoreToLoading() {
        com.chad.library.adapter.base.loadmore.LoadMoreStatus loadMoreStatus = this.loadMoreStatus;
        com.chad.library.adapter.base.loadmore.LoadMoreStatus loadMoreStatus2 = com.chad.library.adapter.base.loadmore.LoadMoreStatus.Loading;
        if (loadMoreStatus == loadMoreStatus2) {
            return;
        }
        this.loadMoreStatus = loadMoreStatus2;
        this.baseQuickAdapter.notifyItemChanged(getLoadMoreViewPosition());
        h();
    }

    public final void reset$com_github_CymChad_brvah() {
        if (this.mLoadMoreListener != null) {
            setEnableLoadMore(true);
            this.loadMoreStatus = com.chad.library.adapter.base.loadmore.LoadMoreStatus.Complete;
        }
    }

    public final void setAutoLoadMore(boolean z) {
        this.isAutoLoadMore = z;
    }

    public final void setEnableLoadMore(boolean z) {
        boolean hasLoadMoreView = hasLoadMoreView();
        this.isEnableLoadMore = z;
        boolean hasLoadMoreView2 = hasLoadMoreView();
        if (hasLoadMoreView) {
            if (hasLoadMoreView2) {
                return;
            }
            this.baseQuickAdapter.notifyItemRemoved(getLoadMoreViewPosition());
        } else if (hasLoadMoreView2) {
            this.loadMoreStatus = com.chad.library.adapter.base.loadmore.LoadMoreStatus.Complete;
            this.baseQuickAdapter.notifyItemInserted(getLoadMoreViewPosition());
        }
    }

    public final void setEnableLoadMoreEndClick(boolean z) {
        this.enableLoadMoreEndClick = z;
    }

    public final void setEnableLoadMoreIfNotFullPage(boolean z) {
        this.isEnableLoadMoreIfNotFullPage = z;
    }

    public final void setLoadMoreView(@org.jetbrains.annotations.NotNull com.chad.library.adapter.base.loadmore.BaseLoadMoreView baseLoadMoreView) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(baseLoadMoreView, "<set-?>");
        this.loadMoreView = baseLoadMoreView;
    }

    @Override // com.chad.library.adapter.base.listener.LoadMoreListenerImp
    public void setOnLoadMoreListener(@org.jetbrains.annotations.Nullable com.chad.library.adapter.base.listener.OnLoadMoreListener listener) {
        this.mLoadMoreListener = listener;
        setEnableLoadMore(true);
    }

    public final void setPreLoadNumber(int i) {
        if (i > 1) {
            this.preLoadNumber = i;
        }
    }

    public final void setupViewHolder$com_github_CymChad_brvah(@org.jetbrains.annotations.NotNull com.chad.library.adapter.base.viewholder.BaseViewHolder viewHolder) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(viewHolder, "viewHolder");
        viewHolder.itemView.setOnClickListener(new defpackage.dh(this));
    }
}
