package com.hbzhou.open.flowcamera;

@kotlin.Metadata(d1 = {"\u0000v\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0010\u0002\n\u0002\b\u0003\n\u0002\u0010\u0007\n\u0002\b\u0006\n\u0002\u0010\t\n\u0002\b\u0002\n\u0002\u0010\b\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u000b\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\"\n\u0002\u0018\u0002\n\u0002\b\u001a\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0005\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\b\u0018\u0000 s2\u00020\u0001:\u0003stuB\u0011\b\u0016\u0012\u0006\u0010k\u001a\u00020j¢\u0006\u0004\bl\u0010mB\u001b\b\u0016\u0012\u0006\u0010k\u001a\u00020j\u0012\b\u0010o\u001a\u0004\u0018\u00010n¢\u0006\u0004\bl\u0010pB#\b\u0016\u0012\u0006\u0010k\u001a\u00020j\u0012\b\u0010o\u001a\u0004\u0018\u00010n\u0012\u0006\u0010q\u001a\u00020\u0010¢\u0006\u0004\bl\u0010rJ\b\u0010\u0003\u001a\u00020\u0002H\u0002J\b\u0010\u0004\u001a\u00020\u0002H\u0002J\b\u0010\u0005\u001a\u00020\u0002H\u0002J\u0010\u0010\b\u001a\u00020\u00022\u0006\u0010\u0007\u001a\u00020\u0006H\u0002J(\u0010\f\u001a\u00020\u00022\u0006\u0010\t\u001a\u00020\u00062\u0006\u0010\n\u001a\u00020\u00062\u0006\u0010\u0007\u001a\u00020\u00062\u0006\u0010\u000b\u001a\u00020\u0006H\u0002J\u0010\u0010\u000f\u001a\u00020\u00022\u0006\u0010\u000e\u001a\u00020\rH\u0002J\u0018\u0010\u0013\u001a\u00020\u00022\u0006\u0010\u0011\u001a\u00020\u00102\u0006\u0010\u0012\u001a\u00020\u0010H\u0014J\u0010\u0010\u0016\u001a\u00020\u00022\u0006\u0010\u0015\u001a\u00020\u0014H\u0014J\u0010\u0010\u001a\u001a\u00020\u00192\u0006\u0010\u0018\u001a\u00020\u0017H\u0016J\u000e\u0010\u001c\u001a\u00020\u00022\u0006\u0010\u001b\u001a\u00020\u0010J\u000e\u0010\u001d\u001a\u00020\u00022\u0006\u0010\u001b\u001a\u00020\u0010J\u0010\u0010 \u001a\u00020\u00022\b\u0010\u001f\u001a\u0004\u0018\u00010\u001eJ\u000e\u0010\"\u001a\u00020\u00022\u0006\u0010!\u001a\u00020\u0010J\u0006\u0010#\u001a\u00020\u0019J\u0006\u0010$\u001a\u00020\u0002R\u0016\u0010!\u001a\u00020\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b%\u0010&R\u0016\u0010(\u001a\u00020\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b'\u0010&R\u001a\u0010,\u001a\u00020\u00108\u0006X\u0086D¢\u0006\f\n\u0004\b)\u0010&\u001a\u0004\b*\u0010+R\u001a\u0010/\u001a\u00020\u00108\u0006X\u0086D¢\u0006\f\n\u0004\b-\u0010&\u001a\u0004\b.\u0010+R\u0014\u00101\u001a\u00020\u00108\u0002X\u0082D¢\u0006\u0006\n\u0004\b0\u0010&R\u001a\u00104\u001a\u00020\u00108\u0006X\u0086D¢\u0006\f\n\u0004\b2\u0010&\u001a\u0004\b3\u0010+R\u001a\u00107\u001a\u00020\u00108\u0006X\u0086D¢\u0006\f\n\u0004\b5\u0010&\u001a\u0004\b6\u0010+R\u0014\u00109\u001a\u00020\u00108\u0002X\u0082D¢\u0006\u0006\n\u0004\b8\u0010&R\u0014\u0010;\u001a\u00020\u00108\u0002X\u0082D¢\u0006\u0006\n\u0004\b:\u0010&R\u0014\u0010=\u001a\u00020\u00108\u0002X\u0082D¢\u0006\u0006\n\u0004\b<\u0010&R\u0016\u0010@\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b>\u0010?R\u0018\u0010D\u001a\u0004\u0018\u00010A8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bB\u0010CR\u0016\u0010F\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bE\u0010?R\u0016\u0010G\u001a\u00020\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b?\u0010&R\u0016\u0010I\u001a\u00020\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bH\u0010&R\u0016\u0010K\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bJ\u0010?R\u0016\u0010L\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b&\u0010?R\u0016\u0010N\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bM\u0010?R\u0016\u0010P\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bO\u0010?R\u0016\u0010R\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bQ\u0010?R\u0016\u0010T\u001a\u00020\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bS\u0010&R\u0016\u0010V\u001a\u00020\u00068\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bU\u0010?R\u0016\u0010\u001b\u001a\u00020\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bW\u0010&R\u0016\u0010Y\u001a\u00020\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bX\u0010&R\u0016\u0010[\u001a\u00020\u00108\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bZ\u0010&R\u0018\u0010_\u001a\u0004\u0018\u00010\\8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\b]\u0010^R\u001c\u0010c\u001a\b\u0018\u00010`R\u00020\u00008\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\ba\u0010bR\u0018\u0010\u001f\u001a\u0004\u0018\u00010\u001e8\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bd\u0010eR\u001c\u0010i\u001a\b\u0018\u00010fR\u00020\u00008\u0002@\u0002X\u0082\u000e¢\u0006\u0006\n\u0004\bg\u0010h¨\u0006v"}, d2 = {"Lcom/hbzhou/open/flowcamera/CaptureImageButton;", "Landroid/view/View;", "", "d", "e", "f", "", "inside_start", "g", "outside_start", "outside_end", "inside_end", "i", "", "millisUntilFinished", "l", "", "widthMeasureSpec", "heightMeasureSpec", "onMeasure", "Landroid/graphics/Canvas;", "canvas", "onDraw", "Landroid/view/MotionEvent;", "event", "", "onTouchEvent", "duration", "setDuration", "setMinDuration", "Lcom/hbzhou/open/flowcamera/CaptureListener;", "captureListener", "setCaptureLisenter", com.anythink.expressad.atsignalcommon.mraid.CallMraidJS.b, "setButtonFeatures", "isIdle", "resetState", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.AD_COUNT, "I", "t", "button_state", com.umeng.analytics.pro.bo.aN, "getSTATE_IDLE", "()I", "STATE_IDLE", "v", "getSTATE_PRESS", "STATE_PRESS", com.baidu.mobads.sdk.api.IAdInterListener.AdReqParam.WIDTH, "STATE_LONG_PRESS", "x", "getSTATE_RECORDERING", "STATE_RECORDERING", "y", "getSTATE_BAN", "STATE_BAN", com.umeng.analytics.pro.bo.aJ, "progress_color", androidx.exifinterface.media.ExifInterface.GPS_MEASUREMENT_IN_PROGRESS, "outside_color", "B", "inside_color", "C", "F", "event_Y", "Landroid/graphics/Paint;", "D", "Landroid/graphics/Paint;", "mPaint", androidx.exifinterface.media.ExifInterface.LONGITUDE_EAST, "strokeWidth", "outside_add_size", "G", "inside_reduce_size", "H", "center_X", "center_Y", "J", "button_radius", "K", "button_outside_radius", "L", "button_inside_radius", "M", "button_size", "N", androidx.core.app.NotificationCompat.CATEGORY_PROGRESS, "O", "P", com.aliyun.svideosdk.common.struct.common.AliyunSnapVideoParam.MIN_DURATION, "Q", "recorded_time", "Landroid/graphics/RectF;", "R", "Landroid/graphics/RectF;", "rectF", "Lcom/hbzhou/open/flowcamera/CaptureImageButton$LongPressRunnable;", androidx.exifinterface.media.ExifInterface.LATITUDE_SOUTH, "Lcom/hbzhou/open/flowcamera/CaptureImageButton$LongPressRunnable;", "longPressRunnable", androidx.exifinterface.media.ExifInterface.GPS_DIRECTION_TRUE, "Lcom/hbzhou/open/flowcamera/CaptureListener;", "Lcom/hbzhou/open/flowcamera/CaptureImageButton$RecordCountDownTimer;", "U", "Lcom/hbzhou/open/flowcamera/CaptureImageButton$RecordCountDownTimer;", "timer", "Landroid/content/Context;", "context", "<init>", "(Landroid/content/Context;)V", "Landroid/util/AttributeSet;", "attrs", "(Landroid/content/Context;Landroid/util/AttributeSet;)V", com.anythink.core.api.ATAdConst.NETWORK_REQUEST_PARAMS_KEY.BANNER_SIZE, "(Landroid/content/Context;Landroid/util/AttributeSet;I)V", "Companion", "LongPressRunnable", "RecordCountDownTimer", "MJCameraModule_release"}, k = 1, mv = {1, 6, 0})
/* loaded from: classes22.dex */
public final class CaptureImageButton extends android.view.View {

    /* renamed from: Companion, reason: from kotlin metadata */
    @org.jetbrains.annotations.NotNull
    public static final com.hbzhou.open.flowcamera.CaptureImageButton.Companion INSTANCE = new com.hbzhou.open.flowcamera.CaptureImageButton.Companion(null);
    public static final int V = 257;
    public static final int W = 258;
    public static final int a0 = 259;

    /* renamed from: A, reason: from kotlin metadata */
    public final int outside_color;

    /* renamed from: B, reason: from kotlin metadata */
    public final int inside_color;

    /* renamed from: C, reason: from kotlin metadata */
    public float event_Y;

    /* renamed from: D, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public android.graphics.Paint mPaint;

    /* renamed from: E, reason: from kotlin metadata */
    public float strokeWidth;

    /* renamed from: F, reason: from kotlin metadata */
    public int outside_add_size;

    /* renamed from: G, reason: from kotlin metadata */
    public int inside_reduce_size;

    /* renamed from: H, reason: from kotlin metadata */
    public float center_X;

    /* renamed from: I, reason: from kotlin metadata */
    public float center_Y;

    /* renamed from: J, reason: from kotlin metadata */
    public float button_radius;

    /* renamed from: K, reason: from kotlin metadata */
    public float button_outside_radius;

    /* renamed from: L, reason: from kotlin metadata */
    public float button_inside_radius;

    /* renamed from: M, reason: from kotlin metadata */
    public int button_size;

    /* renamed from: N, reason: from kotlin metadata */
    public float progress;

    /* renamed from: O, reason: from kotlin metadata */
    public int duration;

    /* renamed from: P, reason: from kotlin metadata */
    public int min_duration;

    /* renamed from: Q, reason: from kotlin metadata */
    public int recorded_time;

    /* renamed from: R, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public android.graphics.RectF rectF;

    /* renamed from: S, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public com.hbzhou.open.flowcamera.CaptureImageButton.LongPressRunnable longPressRunnable;

    /* renamed from: T, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public com.hbzhou.open.flowcamera.CaptureListener captureListener;

    /* renamed from: U, reason: from kotlin metadata */
    @org.jetbrains.annotations.Nullable
    public com.hbzhou.open.flowcamera.CaptureImageButton.RecordCountDownTimer timer;

    /* renamed from: n, reason: from kotlin metadata */
    public int state;

    /* renamed from: t, reason: from kotlin metadata */
    public int button_state;

    /* renamed from: u, reason: from kotlin metadata */
    public final int STATE_IDLE;

    /* renamed from: v, reason: from kotlin metadata */
    public final int STATE_PRESS;

    /* renamed from: w, reason: from kotlin metadata */
    public final int STATE_LONG_PRESS;

    /* renamed from: x, reason: from kotlin metadata */
    public final int STATE_RECORDERING;

    /* renamed from: y, reason: from kotlin metadata */
    public final int STATE_BAN;

    /* renamed from: z, reason: from kotlin metadata */
    public final int progress_color;

    @kotlin.Metadata(d1 = {"\u0000\u0014\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\b\u0002\n\u0002\u0010\b\n\u0002\b\u0007\b\u0086\u0003\u0018\u00002\u00020\u0001B\u0007\b\u0002¢\u0006\u0002\u0010\u0002R\u0014\u0010\u0003\u001a\u00020\u0004X\u0086D¢\u0006\b\n\u0000\u001a\u0004\b\u0005\u0010\u0006R\u0014\u0010\u0007\u001a\u00020\u0004X\u0086D¢\u0006\b\n\u0000\u001a\u0004\b\b\u0010\u0006R\u0014\u0010\t\u001a\u00020\u0004X\u0086D¢\u0006\b\n\u0000\u001a\u0004\b\n\u0010\u0006¨\u0006\u000b"}, d2 = {"Lcom/hbzhou/open/flowcamera/CaptureImageButton$Companion;", "", "()V", "BUTTON_STATE_BOTH", "", "getBUTTON_STATE_BOTH", "()I", "BUTTON_STATE_ONLY_CAPTURE", "getBUTTON_STATE_ONLY_CAPTURE", "BUTTON_STATE_ONLY_RECORDER", "getBUTTON_STATE_ONLY_RECORDER", "MJCameraModule_release"}, k = 1, mv = {1, 6, 0}, xi = 48)
    public static final class Companion {
        public Companion() {
        }

        public /* synthetic */ Companion(kotlin.jvm.internal.DefaultConstructorMarker defaultConstructorMarker) {
            this();
        }

        public final int getBUTTON_STATE_BOTH() {
            return com.hbzhou.open.flowcamera.CaptureImageButton.a0;
        }

        public final int getBUTTON_STATE_ONLY_CAPTURE() {
            return com.hbzhou.open.flowcamera.CaptureImageButton.V;
        }

        public final int getBUTTON_STATE_ONLY_RECORDER() {
            return com.hbzhou.open.flowcamera.CaptureImageButton.W;
        }
    }

    @kotlin.Metadata(d1 = {"\u0000\u0012\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\u0002\n\u0000\b\u0086\u0004\u0018\u00002\u00020\u0001B\u0005¢\u0006\u0002\u0010\u0002J\b\u0010\u0003\u001a\u00020\u0004H\u0016¨\u0006\u0005"}, d2 = {"Lcom/hbzhou/open/flowcamera/CaptureImageButton$LongPressRunnable;", "Ljava/lang/Runnable;", "(Lcom/hbzhou/open/flowcamera/CaptureImageButton;)V", "run", "", "MJCameraModule_release"}, k = 1, mv = {1, 6, 0}, xi = 48)
    public final class LongPressRunnable implements java.lang.Runnable {
        public LongPressRunnable() {
        }

        @Override // java.lang.Runnable
        public void run() {
            com.hbzhou.open.flowcamera.CaptureImageButton captureImageButton = com.hbzhou.open.flowcamera.CaptureImageButton.this;
            captureImageButton.state = captureImageButton.STATE_LONG_PRESS;
            com.hbzhou.open.flowcamera.CaptureImageButton captureImageButton2 = com.hbzhou.open.flowcamera.CaptureImageButton.this;
            captureImageButton2.state = captureImageButton2.getSTATE_IDLE();
            if (com.hbzhou.open.flowcamera.CaptureImageButton.this.captureListener == null) {
                com.hbzhou.open.flowcamera.CaptureImageButton captureImageButton3 = com.hbzhou.open.flowcamera.CaptureImageButton.this;
                captureImageButton3.i(captureImageButton3.button_outside_radius, com.hbzhou.open.flowcamera.CaptureImageButton.this.button_outside_radius + com.hbzhou.open.flowcamera.CaptureImageButton.this.outside_add_size, com.hbzhou.open.flowcamera.CaptureImageButton.this.button_inside_radius, com.hbzhou.open.flowcamera.CaptureImageButton.this.button_inside_radius - com.hbzhou.open.flowcamera.CaptureImageButton.this.inside_reduce_size);
            } else {
                com.hbzhou.open.flowcamera.CaptureListener captureListener = com.hbzhou.open.flowcamera.CaptureImageButton.this.captureListener;
                if (captureListener != null) {
                    captureListener.recordError();
                }
            }
        }
    }

    @kotlin.Metadata(d1 = {"\u0000\u001a\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\t\n\u0002\b\u0003\n\u0002\u0010\u0002\n\u0002\b\u0003\b\u0086\u0004\u0018\u00002\u00020\u0001B\u0017\b\u0000\u0012\u0006\u0010\u0002\u001a\u00020\u0003\u0012\u0006\u0010\u0004\u001a\u00020\u0003¢\u0006\u0002\u0010\u0005J\b\u0010\u0006\u001a\u00020\u0007H\u0016J\u0010\u0010\b\u001a\u00020\u00072\u0006\u0010\t\u001a\u00020\u0003H\u0016¨\u0006\n"}, d2 = {"Lcom/hbzhou/open/flowcamera/CaptureImageButton$RecordCountDownTimer;", "Landroid/os/CountDownTimer;", "millisInFuture", "", "countDownInterval", "(Lcom/hbzhou/open/flowcamera/CaptureImageButton;JJ)V", "onFinish", "", "onTick", "millisUntilFinished", "MJCameraModule_release"}, k = 1, mv = {1, 6, 0}, xi = 48)
    public final class RecordCountDownTimer extends android.os.CountDownTimer {
        public RecordCountDownTimer(long j, long j2) {
            super(j, j2);
        }

        @Override // android.os.CountDownTimer
        public void onFinish() {
            com.hbzhou.open.flowcamera.CaptureImageButton.this.l(0L);
            com.hbzhou.open.flowcamera.CaptureImageButton.this.e();
        }

        @Override // android.os.CountDownTimer
        public void onTick(long millisUntilFinished) {
            com.hbzhou.open.flowcamera.CaptureImageButton.this.l(millisUntilFinished);
        }
    }

    /* JADX WARN: 'this' call moved to the top of the method (can break code semantics) */
    public CaptureImageButton(@org.jetbrains.annotations.NotNull android.content.Context context) {
        this(context, null);
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(context, "context");
    }

    /* JADX WARN: 'this' call moved to the top of the method (can break code semantics) */
    public CaptureImageButton(@org.jetbrains.annotations.NotNull android.content.Context context, @org.jetbrains.annotations.Nullable android.util.AttributeSet attributeSet) {
        this(context, attributeSet, 0);
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(context, "context");
    }

    /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
    public CaptureImageButton(@org.jetbrains.annotations.NotNull android.content.Context context, @org.jetbrains.annotations.Nullable android.util.AttributeSet attributeSet, int i) {
        super(context, attributeSet, i);
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(context, "context");
        this.STATE_IDLE = 1;
        this.STATE_PRESS = 2;
        this.STATE_LONG_PRESS = 3;
        this.STATE_RECORDERING = 4;
        this.STATE_BAN = 5;
        this.progress_color = -300503530;
        this.outside_color = -287515428;
        this.inside_color = -1;
        this.button_size = i;
        float f = i;
        float f2 = f / 2.0f;
        this.button_radius = f2;
        this.button_outside_radius = f2;
        this.button_inside_radius = f2 * 0.75f;
        this.strokeWidth = f / 15.0f;
        this.outside_add_size = i / 5;
        this.inside_reduce_size = i / 8;
        android.graphics.Paint paint = new android.graphics.Paint();
        this.mPaint = paint;
        kotlin.jvm.internal.Intrinsics.checkNotNull(paint);
        paint.setAntiAlias(true);
        this.progress = 0.0f;
        this.longPressRunnable = new com.hbzhou.open.flowcamera.CaptureImageButton.LongPressRunnable();
        this.state = 1;
        this.button_state = a0;
        this.duration = 10000;
        this.min_duration = 1500;
        int i2 = this.button_size;
        int i3 = this.outside_add_size;
        this.center_X = ((i3 * 2) + i2) / 2.0f;
        this.center_Y = (i2 + (i3 * 2)) / 2.0f;
        float f3 = this.center_X;
        float f4 = this.button_radius;
        int i4 = this.outside_add_size;
        float f5 = this.strokeWidth;
        float f6 = 2;
        float f7 = this.center_Y;
        this.rectF = new android.graphics.RectF(f3 - ((i4 + f4) - (f5 / f6)), f7 - ((i4 + f4) - (f5 / f6)), f3 + ((i4 + f4) - (f5 / f6)), f7 + ((f4 + i4) - (f5 / f6)));
        this.timer = new com.hbzhou.open.flowcamera.CaptureImageButton.RecordCountDownTimer(this.duration, r14 / com.amap.api.maps.utils.SpatialRelationUtil.A_CIRCLE_DEGREE);
    }

    public static final void h(com.hbzhou.open.flowcamera.CaptureImageButton this$0, android.animation.ValueAnimator animation) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(animation, "animation");
        java.lang.Object animatedValue = animation.getAnimatedValue();
        if (animatedValue == null) {
            throw new java.lang.NullPointerException("null cannot be cast to non-null type kotlin.Float");
        }
        this$0.button_inside_radius = ((java.lang.Float) animatedValue).floatValue();
        this$0.invalidate();
    }

    public static final void j(com.hbzhou.open.flowcamera.CaptureImageButton this$0, android.animation.ValueAnimator animation) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(animation, "animation");
        java.lang.Object animatedValue = animation.getAnimatedValue();
        if (animatedValue == null) {
            throw new java.lang.NullPointerException("null cannot be cast to non-null type kotlin.Float");
        }
        this$0.button_outside_radius = ((java.lang.Float) animatedValue).floatValue();
        this$0.invalidate();
    }

    public static final void k(com.hbzhou.open.flowcamera.CaptureImageButton this$0, android.animation.ValueAnimator animation) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(this$0, "this$0");
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(animation, "animation");
        java.lang.Object animatedValue = animation.getAnimatedValue();
        if (animatedValue == null) {
            throw new java.lang.NullPointerException("null cannot be cast to non-null type kotlin.Float");
        }
        this$0.button_inside_radius = ((java.lang.Float) animatedValue).floatValue();
        this$0.invalidate();
    }

    public final void d() {
        int i;
        removeCallbacks(this.longPressRunnable);
        int i2 = this.state;
        if (i2 == this.STATE_PRESS) {
            if (this.captureListener == null || !((i = this.button_state) == V || i == a0)) {
                this.state = this.STATE_IDLE;
                return;
            } else {
                g(this.button_inside_radius);
                return;
            }
        }
        if (i2 == this.STATE_RECORDERING) {
            com.hbzhou.open.flowcamera.CaptureImageButton.RecordCountDownTimer recordCountDownTimer = this.timer;
            kotlin.jvm.internal.Intrinsics.checkNotNull(recordCountDownTimer);
            recordCountDownTimer.cancel();
            e();
        }
    }

    public final void e() {
        com.hbzhou.open.flowcamera.CaptureListener captureListener = this.captureListener;
        if (captureListener != null) {
            int i = this.recorded_time;
            if (i < this.min_duration) {
                if (captureListener != null) {
                    captureListener.recordShort(i);
                }
            } else if (captureListener != null) {
                captureListener.recordEnd(i);
            }
        }
        f();
    }

    public final void f() {
        this.state = this.STATE_BAN;
        this.progress = 0.0f;
        invalidate();
        float f = this.button_outside_radius;
        float f2 = this.button_radius;
        i(f, f2, this.button_inside_radius, 0.75f * f2);
    }

    public final void g(float inside_start) {
        android.animation.ValueAnimator ofFloat = android.animation.ValueAnimator.ofFloat(inside_start, 0.75f * inside_start, inside_start);
        ofFloat.addUpdateListener(new defpackage.ok(this));
        ofFloat.addListener(new com.hbzhou.open.flowcamera.CaptureImageButton$startCaptureAnimation$2(this));
        ofFloat.setDuration(100L);
        ofFloat.start();
    }

    public final int getSTATE_BAN() {
        return this.STATE_BAN;
    }

    public final int getSTATE_IDLE() {
        return this.STATE_IDLE;
    }

    public final int getSTATE_PRESS() {
        return this.STATE_PRESS;
    }

    public final int getSTATE_RECORDERING() {
        return this.STATE_RECORDERING;
    }

    public final void i(float outside_start, float outside_end, float inside_start, float inside_end) {
        android.animation.ValueAnimator ofFloat = android.animation.ValueAnimator.ofFloat(outside_start, outside_end);
        android.animation.ValueAnimator ofFloat2 = android.animation.ValueAnimator.ofFloat(inside_start, inside_end);
        ofFloat.addUpdateListener(new defpackage.mk(this));
        ofFloat2.addUpdateListener(new defpackage.nk(this));
        android.animation.AnimatorSet animatorSet = new android.animation.AnimatorSet();
        animatorSet.addListener(new com.hbzhou.open.flowcamera.CaptureImageButton$startRecordAnimation$3(this));
        animatorSet.playTogether(ofFloat, ofFloat2);
        animatorSet.setDuration(100L);
        animatorSet.start();
    }

    public final boolean isIdle() {
        return this.state == this.STATE_IDLE;
    }

    public final void l(long millisUntilFinished) {
        int i = this.duration;
        this.recorded_time = (int) (i - millisUntilFinished);
        this.progress = 360.0f - ((millisUntilFinished / i) * 360.0f);
        invalidate();
    }

    @Override // android.view.View
    public void onDraw(@org.jetbrains.annotations.NotNull android.graphics.Canvas canvas) {
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(canvas, "canvas");
        super.onDraw(canvas);
        android.graphics.Paint paint = this.mPaint;
        if (paint != null) {
            paint.setStyle(android.graphics.Paint.Style.FILL);
        }
        android.graphics.Paint paint2 = this.mPaint;
        if (paint2 != null) {
            paint2.setColor(this.outside_color);
        }
        float f = this.center_X;
        float f2 = this.center_Y;
        float f3 = this.button_outside_radius;
        android.graphics.Paint paint3 = this.mPaint;
        kotlin.jvm.internal.Intrinsics.checkNotNull(paint3);
        canvas.drawCircle(f, f2, f3, paint3);
        android.graphics.Paint paint4 = this.mPaint;
        if (paint4 != null) {
            paint4.setColor(this.inside_color);
        }
        float f4 = this.center_X;
        float f5 = this.center_Y;
        float f6 = this.button_inside_radius;
        android.graphics.Paint paint5 = this.mPaint;
        kotlin.jvm.internal.Intrinsics.checkNotNull(paint5);
        canvas.drawCircle(f4, f5, f6, paint5);
        if (this.state == this.STATE_RECORDERING) {
            android.graphics.Paint paint6 = this.mPaint;
            if (paint6 != null) {
                paint6.setColor(this.progress_color);
            }
            android.graphics.Paint paint7 = this.mPaint;
            if (paint7 != null) {
                paint7.setStyle(android.graphics.Paint.Style.STROKE);
            }
            android.graphics.Paint paint8 = this.mPaint;
            if (paint8 != null) {
                paint8.setStrokeWidth(this.strokeWidth);
            }
            android.graphics.RectF rectF = this.rectF;
            kotlin.jvm.internal.Intrinsics.checkNotNull(rectF);
            float f7 = this.progress;
            android.graphics.Paint paint9 = this.mPaint;
            kotlin.jvm.internal.Intrinsics.checkNotNull(paint9);
            canvas.drawArc(rectF, -90.0f, f7, false, paint9);
        }
    }

    @Override // android.view.View
    public void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
        int i = this.button_size;
        int i2 = this.outside_add_size;
        setMeasuredDimension((i2 * 2) + i, i + (i2 * 2));
    }

    @Override // android.view.View
    public boolean onTouchEvent(@org.jetbrains.annotations.NotNull android.view.MotionEvent event) {
        com.hbzhou.open.flowcamera.CaptureListener captureListener;
        int i;
        kotlin.jvm.internal.Intrinsics.checkNotNullParameter(event, "event");
        int action = event.getAction();
        if (action != 0) {
            if (action == 1) {
                d();
            } else if (action == 2 && (captureListener = this.captureListener) != null && this.state == this.STATE_RECORDERING && ((i = this.button_state) == W || i == a0)) {
                kotlin.jvm.internal.Intrinsics.checkNotNull(captureListener);
                captureListener.recordZoom(this.event_Y - event.getY());
            }
        } else {
            if (event.getPointerCount() > 1 || this.state != this.STATE_IDLE) {
                return false;
            }
            this.event_Y = event.getY();
            this.state = this.STATE_PRESS;
            int i2 = this.button_state;
            if (i2 == W || i2 == a0) {
                postDelayed(this.longPressRunnable, 500L);
            }
        }
        return true;
    }

    public final void resetState() {
        this.state = this.STATE_IDLE;
    }

    public final void setButtonFeatures(int state) {
        this.button_state = state;
    }

    public final void setCaptureLisenter(@org.jetbrains.annotations.Nullable com.hbzhou.open.flowcamera.CaptureListener captureListener) {
        this.captureListener = captureListener;
    }

    public final void setDuration(int duration) {
        this.duration = duration;
        this.timer = new com.hbzhou.open.flowcamera.CaptureImageButton.RecordCountDownTimer(duration, duration / com.amap.api.maps.utils.SpatialRelationUtil.A_CIRCLE_DEGREE);
    }

    public final void setMinDuration(int duration) {
        this.min_duration = duration;
    }
}
